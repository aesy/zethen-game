(()=>{"use strict";var t,e,r,n,i,o,s,a,c,u,h,l,f={5085:function(t,e,r){var n=r(9821),i=r(4263),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a function")}},2760:function(t,e,r){var n=r(4692).has;t.exports=function(t){return n(t),t}},7791:function(t,e,r){var n=r(1718).has;t.exports=function(t){return n(t),t}},591:function(t,e,r){var n=r(6711),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},6539:function(t,e,r){var n=r(6840),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not an object")}},3355:function(t,e,r){var n=r(621),i=r(7732),o=r(555),s=function(t){return function(e,r,s){var a,c=n(e),u=o(c);if(0===u)return!t&&-1;var h=i(s,u);if(t&&r!=r){for(;u>h;)if((a=c[h++])!=a)return!0}else for(;u>h;h++)if((t||h in c)&&c[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2919:function(t,e,r){var n=r(1360),i=r(1748),o=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1564:function(t,e,r){var n=r(7494),i=r(6451),o=r(6780);t.exports=function(t,e,r,s){try{var a=o(t,"return");if(a)return i("Promise").resolve(n(a,t)).then(function(){e(r)},function(t){s(t)})}catch(t){return s(t)}e(r)}},425:function(t,e,r){var n=r(7494),i=r(9090),o=r(6539),s=r(1153),a=r(2444),c=r(6252),u=r(8583),h=r(9904),l=r(6451),f=r(6780),d=r(972),p=r(7056),g=r(4043),y=l("Promise"),v=u("toStringTag"),m="AsyncIteratorHelper",w="WrapForValidAsyncIterator",x=h.set,b=function(t){var e=!t,r=h.getterFor(t?w:m),a=function(t){var n=i(function(){return r(t)}),o=n.error,s=n.value;return o||e&&s.done?{exit:!0,value:o?y.reject(s):y.resolve(p(void 0,!0))}:{exit:!1,value:s}};return c(s(d),{next:function(){var t=a(this),e=t.value;if(t.exit)return e;var r=i(function(){return o(e.nextHandler(y))}),n=r.error,s=r.value;return n&&(e.done=!0),n?y.reject(s):y.resolve(s)},return:function(){var e,r,s=a(this),c=s.value;if(s.exit)return c;c.done=!0;var u=c.iterator,h=i(function(){if(c.inner)try{g(c.inner.iterator,"normal")}catch(t){return g(u,"throw",t)}return f(u,"return")});return(e=r=h.value,h.error)?y.reject(r):void 0===e?y.resolve(p(void 0,!0)):(r=(h=i(function(){return n(e,u)})).value,h.error)?y.reject(r):t?y.resolve(r):y.resolve(r).then(function(t){return o(t),p(void 0,!0)})}})},S=b(!0),I=b(!1);a(I,v,"Async Iterator Helper"),t.exports=function(t,e){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=e?w:m,n.nextHandler=t,n.counter=0,n.done=!1,x(this,n)};return r.prototype=e?S:I,r}},4662:function(t,e,r){var n=r(7494),i=r(5085),o=r(6539),s=r(6840),a=r(6182),c=r(6451),u=r(4894),h=r(1564),l=function(t){var e=0===t,r=1===t,l=2===t,f=3===t;return function(t,d,p){o(t);var g=void 0!==d;(g||!e)&&i(d);var y=u(t),v=c("Promise"),m=y.iterator,w=y.next,x=0;return new v(function(t,i){var c=function(t){h(m,i,t,i)},u=function(){try{if(g)try{a(x)}catch(t){c(t)}v.resolve(o(n(w,m))).then(function(n){try{if(o(n).done)e?(p.length=x,t(p)):t(!f&&(l||void 0));else{var a=n.value;try{if(g){var y=d(a,x),w=function(n){if(r)u();else if(l)n?u():h(m,t,!1,i);else if(e)try{p[x++]=n,u()}catch(t){c(t)}else n?h(m,t,f||a,i):u()};s(y)?v.resolve(y).then(w,c):w(y)}else p[x++]=a,u()}catch(t){c(t)}}}catch(t){i(t)}},i)}catch(t){i(t)}};u()})}};t.exports={toArray:l(0),forEach:l(1),every:l(2),some:l(3),find:l(4)}},2314:function(t,e,r){var n=r(7494),i=r(5085),o=r(6539),s=r(6840),a=r(4894),c=r(425),u=r(7056),h=r(1564),l=c(function(t){var e=this,r=e.iterator,i=e.mapper;return new t(function(a,c){var l=function(t){e.done=!0,c(t)},f=function(t){h(r,l,t,l)};t.resolve(o(n(e.next,r))).then(function(r){try{if(o(r).done)e.done=!0,a(u(void 0,!0));else{var n=r.value;try{var c=i(n,e.counter++),h=function(t){a(u(t,!1))};s(c)?t.resolve(c).then(h,f):h(c)}catch(t){f(t)}}}catch(t){l(t)}},l)})});t.exports=function(t){return o(this),i(t),new l(a(this),{mapper:t})}},972:function(t,e,r){var n,i,o=r(456),s=r(2223),a=r(9821),c=r(1153),u=r(3424),h=r(453),l=r(8583),f=r(3294),d="USE_FUNCTION_CONSTRUCTOR",p=l("asyncIterator"),g=o.AsyncIterator,y=s.AsyncIteratorPrototype;if(y)n=y;else if(a(g))n=g.prototype;else if(s[d]||o[d])try{i=u(u(u(Function("return async function*(){}()")()))),u(i)===Object.prototype&&(n=i)}catch(t){}n?f&&(n=c(n)):n={},!a(n[p])&&h(n,p,function(){return this}),t.exports=n},892:function(t,e,r){var n=r(6539),i=r(4043);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},2185:function(t,e,r){var n=r(2814),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},4074:function(t,e,r){var n=r(8149),i=r(9821),o=r(2185),s=r(8583)("toStringTag"),a=Object,c="Arguments"===o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(t){}};t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(e=a(t),s))?r:c?o(e):"Object"===(n=o(e))&&i(e.callee)?"Arguments":n}},7130:function(t,e,r){var n=r(5848),i=r(7040),o=r(3895),s=r(8235);t.exports=function(t,e,r){for(var a=i(e),c=s.f,u=o.f,h=0;h<a.length;h++){var l=a[h];!n(t,l)&&!(r&&n(r,l))&&c(t,l,u(e,l))}}},4276:function(t,e,r){var n=r(1455);t.exports=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},7056:function(t){t.exports=function(t,e){return{value:t,done:e}}},2444:function(t,e,r){var n=r(1360),i=r(8235),o=r(8590);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},8590:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2250:function(t,e,r){var n=r(1360),i=r(8235),o=r(8590);t.exports=function(t,e,r){n?i.f(t,e,o(0,r)):t[e]=r}},2749:function(t,e,r){var n=r(5470),i=r(8235);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},453:function(t,e,r){var n=r(9821),i=r(8235),o=r(5470),s=r(8711);t.exports=function(t,e,r,a){!a&&(a={});var c=a.enumerable,u=void 0!==a.name?a.name:e;if(n(r)&&o(r,u,a),a.global)c?t[e]=r:s(e,r);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6252:function(t,e,r){var n=r(453);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},8711:function(t,e,r){var n=r(456),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},1360:function(t,e,r){var n=r(1455);t.exports=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3837:function(t,e,r){var n=r(456),i=r(6840),o=n.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6182:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},6064:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7579:function(t,e,r){var n=r(456).navigator,i=n&&n.userAgent;t.exports=i?String(i):""},1033:function(t,e,r){var n,i,o=r(456),s=r(7579),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,h=u&&u.v8;h&&(i=(n=h.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},7341:function(t,e,r){var n=r(456),i=r(3895).f,o=r(2444),s=r(453),a=r(8711),c=r(7130),u=r(7653);t.exports=function(t,e){var r,h,l,f,d,p=t.target,g=t.global,y=t.stat;if(r=g?n:y?n[p]||a(p,{}):n[p]&&n[p].prototype)for(h in e){if(f=e[h],l=t.dontCallGetSet?(d=i(r,h))&&d.value:r[h],!u(g?h:p+(y?".":"#")+h,t.forced)&&void 0!==l){if(typeof f==typeof l)continue;c(f,l)}(t.sham||l&&l.sham)&&o(f,"sham",!0),s(r,h,f,t)}}},1455:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7722:function(t,e,r){var n=r(1609),i=r(5085),o=r(5707),s=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},5707:function(t,e,r){var n=r(1455);t.exports=!n(function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},7494:function(t,e,r){var n=r(5707),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},360:function(t,e,r){var n=r(1360),i=r(5848),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&(!n||n&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:a&&"something"===(function(){}).name,CONFIGURABLE:c}},2756:function(t,e,r){var n=r(2814),i=r(5085);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},1609:function(t,e,r){var n=r(2185),i=r(2814);t.exports=function(t){if("Function"===n(t))return i(t)}},2814:function(t,e,r){var n=r(5707),i=Function.prototype,o=i.call,s=n&&i.bind.bind(o,o);t.exports=n?s:function(t){return function(){return o.apply(t,arguments)}}},6451:function(t,e,r){var n=r(456),i=r(9821);t.exports=function(t,e){var r;return arguments.length<2?i(r=n[t])?r:void 0:n[t]&&n[t][e]}},4894:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},4311:function(t,e,r){var n=r(4074),i=r(6780),o=r(9700),s=r(649),a=r(8583)("iterator");t.exports=function(t){if(!o(t))return i(t,a)||i(t,"@@iterator")||s[n(t)]}},269:function(t,e,r){var n=r(7494),i=r(5085),o=r(6539),s=r(4263),a=r(4311),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(i(r))return o(n(r,t));throw new c(s(t)+" is not iterable")}},6780:function(t,e,r){var n=r(5085),i=r(9700);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},7786:function(t,e,r){var n=r(5085),i=r(6539),o=r(7494),s=r(1573),a=r(4894),c="Invalid size",u=RangeError,h=TypeError,l=Math.max,f=function(t,e){this.set=t,this.size=l(e,0),this.has=n(t.has),this.keys=n(t.keys)};f.prototype={getIterator:function(){return a(i(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new h(c);var r=s(e);if(r<0)throw new u(c);return new f(t,r)}},456:function(t,e,r){var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},5848:function(t,e,r){var n=r(2814),i=r(7670),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},2793:function(t){t.exports={}},3322:function(t,e,r){var n=r(6451);t.exports=n("document","documentElement")},8980:function(t,e,r){var n=r(1360),i=r(1455),o=r(3837);t.exports=!n&&!i(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},4677:function(t,e,r){var n=r(2814),i=r(1455),o=r(2185),s=Object,a=n("".split);t.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(t){return"String"===o(t)?a(t,""):s(t)}:s},5566:function(t,e,r){var n=r(2814),i=r(9821),o=r(2223),s=n(Function.toString);!i(o.inspectSource)&&(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},9904:function(t,e,r){var n,i,o,s=r(709),a=r(456),c=r(6840),u=r(2444),h=r(5848),l=r(2223),f=r(2566),d=r(2793),p="Object already initialized",g=a.TypeError,y=a.WeakMap;if(s||l.state){var v=l.state||(l.state=new y);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw new g(p);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},o=function(t){return v.has(t)}}else{var m=f("state");d[m]=!0,n=function(t,e){if(h(t,m))throw new g(p);return e.facade=t,u(t,m,e),e},i=function(t){return h(t,m)?t[m]:{}},o=function(t){return h(t,m)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return r}}}},3497:function(t,e,r){var n=r(8583),i=r(649),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},1748:function(t,e,r){var n=r(2185);t.exports=Array.isArray||function(t){return"Array"===n(t)}},9821:function(t){var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},7653:function(t,e,r){var n=r(1455),i=r(9821),o=/#|\.prototype\./,s=function(t,e){var r=c[a(t)];return r===h||r!==u&&(i(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",h=s.POLYFILL="P";t.exports=s},3834:function(t,e,r){var n=r(4074),i=r(5848),o=r(9700),s=r(8583),a=r(649),c=s("iterator"),u=Object;t.exports=function(t){if(o(t))return!1;var e=u(t);return void 0!==e[c]||"@@iterator"in e||i(a,n(e))}},9700:function(t){t.exports=function(t){return null==t}},6840:function(t,e,r){var n=r(9821);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},3294:function(t){t.exports=!1},3139:function(t,e,r){var n=r(6451),i=r(9821),o=r(6711),s=r(6254),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&o(e.prototype,a(t))}},4180:function(t,e,r){var n=r(7494);t.exports=function(t,e,r){for(var i,o,s=r?t:t.iterator,a=t.next;!(i=n(a,s)).done;)if(void 0!==(o=e(i.value)))return o}},5249:function(t,e,r){var n=r(7722),i=r(7494),o=r(6539),s=r(4263),a=r(3497),c=r(555),u=r(6711),h=r(269),l=r(4311),f=r(4043),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},g=p.prototype;t.exports=function(t,e,r){var y,v,m,w,x,b,S,I=r&&r.that,E=!!(r&&r.AS_ENTRIES),O=!!(r&&r.IS_RECORD),N=!!(r&&r.IS_ITERATOR),M=!!(r&&r.INTERRUPTED),R=n(e,I),P=function(t){return y&&f(y,"normal",t),new p(!0,t)},C=function(t){return E?(o(t),M?R(t[0],t[1],P):R(t[0],t[1])):M?R(t,P):R(t)};if(O)y=t.iterator;else if(N)y=t;else{if(!(v=l(t)))throw new d(s(t)+" is not iterable");if(a(v)){for(m=0,w=c(t);w>m;m++)if((x=C(t[m]))&&u(g,x))return x;return new p(!1)}y=h(t,v)}for(b=O?t.next:y.next;!(S=i(b,y)).done;){try{x=C(S.value)}catch(t){f(y,"throw",t)}if("object"==typeof x&&x&&u(g,x))return x}return new p(!1)}},4043:function(t,e,r){var n=r(7494),i=r(6539),o=r(6780);t.exports=function(t,e,r){var s,a;i(t);try{if(!(s=o(t,"return"))){if("throw"===e)throw r;return r}s=n(s,t)}catch(t){a=!0,s=t}if("throw"===e)throw r;if(a)throw s;return i(s),r}},1878:function(t,e,r){var n=r(7494),i=r(1153),o=r(2444),s=r(6252),a=r(8583),c=r(9904),u=r(6780),h=r(3865).IteratorPrototype,l=r(7056),f=r(4043),d=a("toStringTag"),p="IteratorHelper",g="WrapForValidIterator",y=c.set,v=function(t){var e=c.getterFor(t?g:p);return s(i(h),{next:function(){var r=e(this);if(t)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return l(n,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),i=r.iterator;if(r.done=!0,t){var o=u(i,"return");return o?n(o,i):l(void 0,!0)}if(r.inner)try{f(r.inner.iterator,"normal")}catch(t){return f(i,"throw",t)}return f(i,"normal"),l(void 0,!0)}})},m=v(!0),w=v(!1);o(w,d,"Iterator Helper"),t.exports=function(t,e){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=e?g:p,n.nextHandler=t,n.counter=0,n.done=!1,y(this,n)};return r.prototype=e?m:w,r}},3228:function(t,e,r){var n=r(7494),i=r(5085),o=r(6539),s=r(4894),a=r(1878),c=r(892),u=a(function(){var t=this.iterator,e=o(n(this.next,t));if(!(this.done=!!e.done))return c(t,this.mapper,[e.value,this.counter++],!0)});t.exports=function(t){return o(this),i(t),new u(s(this),{mapper:t})}},3865:function(t,e,r){var n,i,o,s=r(1455),a=r(9821),c=r(6840),u=r(1153),h=r(3424),l=r(453),f=r(8583),d=r(3294),p=f("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(i=h(h(o)))!==Object.prototype&&(n=i):g=!0),!c(n)||s(function(){var t={};return n[p].call(t)!==t})?n={}:d&&(n=u(n)),!a(n[p])&&l(n,p,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},649:function(t){t.exports={}},555:function(t,e,r){var n=r(3663);t.exports=function(t){return n(t.length)}},5470:function(t,e,r){var n=r(2814),i=r(1455),o=r(9821),s=r(5848),a=r(1360),c=r(360).CONFIGURABLE,u=r(5566),h=r(9904),l=h.enforce,f=h.get,d=String,p=Object.defineProperty,g=n("".slice),y=n("".replace),v=n([].join),m=a&&!i(function(){return 8!==p(function(){},"length",{value:8}).length}),w=String(String).split("String"),x=t.exports=function(t,e,r){"Symbol("===g(d(e),0,7)&&(e="["+y(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&s(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=l(t);return!s(n,"source")&&(n.source=v(w,"string"==typeof e?e:"")),t};Function.prototype.toString=x(function(){return o(this)&&f(this).source||u(this)},"toString")},4692:function(t,e,r){var n=r(2814),i=Map.prototype;t.exports={Map:Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},4694:function(t,e,r){var n=r(2814),i=r(4180),o=r(4692),s=o.Map,a=o.proto,c=n(a.forEach),u=n(a.entries),h=u(new s).next;t.exports=function(t,e,r){return r?i({iterator:u(t),next:h},function(t){return e(t[1],t[0])}):c(t,e)}},6083:function(t){var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},1153:function(t,e,r){var n,i=r(6539),o=r(5242),s=r(6064),a=r(2793),c=r(3322),u=r(3837),h=r(2566),l="prototype",f="script",d=h("IE_PROTO"),p=function(){},g=function(t){return"<"+f+">"+t+"</"+f+">"},y=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=u("iframe");return e.style.display="none",c.appendChild(e),e.src=String("java"+f+":"),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F},m=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}m="undefined"!=typeof document?document.domain&&n?y(n):v():y(n);for(var t=s.length;t--;)delete m[l][s[t]];return m()};a[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[l]=i(t),r=new p,p[l]=null,r[d]=t):r=m(),void 0===e?r:o.f(r,e)}},5242:function(t,e,r){var n=r(1360),i=r(7174),o=r(8235),s=r(6539),a=r(621),c=r(5387);e.f=n&&!i?Object.defineProperties:function(t,e){s(t);for(var r,n=a(e),i=c(e),u=i.length,h=0;u>h;)o.f(t,r=i[h++],n[r]);return t}},8235:function(t,e,r){var n=r(1360),i=r(8980),o=r(7174),s=r(6539),a=r(1051),c=TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,l="enumerable",f="configurable",d="writable";e.f=n?o?function(t,e,r){if(s(t),e=a(e),s(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=h(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:l in r?r[l]:n[l],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(s(t),e=a(e),s(r),i)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},3895:function(t,e,r){var n=r(1360),i=r(7494),o=r(322),s=r(8590),a=r(621),c=r(1051),u=r(5848),h=r(8980),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=c(e),h)try{return l(t,e)}catch(t){}if(u(t,e))return s(!i(o.f,t,e),t[e])}},5487:function(t,e,r){var n=r(4372),i=r(6064).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},4713:function(t,e){e.f=Object.getOwnPropertySymbols},3424:function(t,e,r){var n=r(5848),i=r(9821),o=r(7670),s=r(2566),a=r(4276),c=s("IE_PROTO"),u=Object,h=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=o(t);if(n(e,c))return e[c];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof u?h:null}},6711:function(t,e,r){var n=r(2814);t.exports=n({}.isPrototypeOf)},4372:function(t,e,r){var n=r(2814),i=r(5848),o=r(621),s=r(3355).indexOf,a=r(2793),c=n([].push);t.exports=function(t,e){var r,n=o(t),u=0,h=[];for(r in n)!i(a,r)&&i(n,r)&&c(h,r);for(;e.length>u;)i(n,r=e[u++])&&(~s(h,r)||c(h,r));return h}},5387:function(t,e,r){var n=r(4372),i=r(6064);t.exports=Object.keys||function(t){return n(t,i)}},322:function(t,e){var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},626:function(t,e,r){var n=r(7494),i=r(9821),o=r(6840),s=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&i(r=t.toString)&&!o(a=n(r,t))||i(r=t.valueOf)&&!o(a=n(r,t))||"string"!==e&&i(r=t.toString)&&!o(a=n(r,t)))return a;throw new s("Can't convert object to primitive value")}},7040:function(t,e,r){var n=r(6451),i=r(2814),o=r(5487),s=r(4713),a=r(6539),c=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(a(t)),r=s.f;return r?c(e,r(t)):e}},9090:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},6124:function(t,e,r){var n=r(9700),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},8620:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},8507:function(t,e,r){var n=r(1718),i=r(6137),o=n.Set,s=n.add;t.exports=function(t){var e=new o;return i(t,function(t){s(e,t)}),e}},794:function(t,e,r){var n=r(7791),i=r(1718),o=r(8507),s=r(9698),a=r(7786),c=r(6137),u=r(4180),h=i.has,l=i.remove;t.exports=function(t){var e=n(this),r=a(t),i=o(e);return s(e)<=r.size?c(e,function(t){r.includes(t)&&l(i,t)}):u(r.getIterator(),function(t){h(e,t)&&l(i,t)}),i}},1718:function(t,e,r){var n=r(2814),i=Set.prototype;t.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},5126:function(t,e,r){var n=r(7791),i=r(1718),o=r(9698),s=r(7786),a=r(6137),c=r(4180),u=i.Set,h=i.add,l=i.has;t.exports=function(t){var e=n(this),r=s(t),i=new u;return o(e)>r.size?c(r.getIterator(),function(t){l(e,t)&&h(i,t)}):a(e,function(t){r.includes(t)&&h(i,t)}),i}},2932:function(t,e,r){var n=r(7791),i=r(1718).has,o=r(9698),s=r(7786),a=r(6137),c=r(4180),u=r(4043);t.exports=function(t){var e=n(this),r=s(t);if(o(e)<=r.size)return!1!==a(e,function(t){if(r.includes(t))return!1},!0);var h=r.getIterator();return!1!==c(h,function(t){if(i(e,t))return u(h,"normal",!1)})}},5970:function(t,e,r){var n=r(7791),i=r(9698),o=r(6137),s=r(7786);t.exports=function(t){var e=n(this),r=s(t);return!(i(e)>r.size)&&!1!==o(e,function(t){if(!r.includes(t))return!1},!0)}},5267:function(t,e,r){var n=r(7791),i=r(1718).has,o=r(9698),s=r(7786),a=r(4180),c=r(4043);t.exports=function(t){var e=n(this),r=s(t);if(o(e)<r.size)return!1;var u=r.getIterator();return!1!==a(u,function(t){if(!i(e,t))return c(u,"normal",!1)})}},6137:function(t,e,r){var n=r(2814),i=r(4180),o=r(1718),s=o.Set,a=o.proto,c=n(a.forEach),u=n(a.keys),h=u(new s).next;t.exports=function(t,e,r){return r?i({iterator:u(t),next:h},e):c(t,e)}},7209:function(t,e,r){var n=r(6451),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=n("Set");try{new e()[t](i(0));try{return new e()[t](i(-1)),!1}catch(t){return!0}}catch(t){return!1}}},9698:function(t,e,r){var n=r(2756),i=r(1718);t.exports=n(i.proto,"size","get")||function(t){return t.size}},8936:function(t,e,r){var n=r(7791),i=r(1718),o=r(8507),s=r(7786),a=r(4180),c=i.add,u=i.has,h=i.remove;t.exports=function(t){var e=n(this),r=s(t).getIterator(),i=o(e);return a(r,function(t){u(e,t)?h(i,t):c(i,t)}),i}},2688:function(t,e,r){var n=r(7791),i=r(1718).add,o=r(8507),s=r(7786),a=r(4180);t.exports=function(t){var e=n(this),r=s(t).getIterator(),c=o(e);return a(r,function(t){i(c,t)}),c}},2566:function(t,e,r){var n=r(9263),i=r(8508),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},2223:function(t,e,r){var n=r(3294),i=r(456),o=r(8711),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},9263:function(t,e,r){var n=r(2223);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},5946:function(t,e,r){var n=r(1033),i=r(1455),o=r(456).String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t) instanceof Symbol)||!Symbol.sham&&n&&n<41})},7732:function(t,e,r){var n=r(1573),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},621:function(t,e,r){var n=r(4677),i=r(6124);t.exports=function(t){return n(i(t))}},1573:function(t,e,r){var n=r(6083);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},3663:function(t,e,r){var n=r(1573),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},7670:function(t,e,r){var n=r(6124),i=Object;t.exports=function(t){return i(n(t))}},7967:function(t,e,r){var n=r(7494),i=r(6840),o=r(3139),s=r(6780),a=r(626),c=r(8583),u=TypeError,h=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var r,c=s(t,h);if(c){if(void 0===e&&(e="default"),!i(r=n(c,t,e))||o(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},1051:function(t,e,r){var n=r(7967),i=r(3139);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},5010:function(t,e,r){var n=r(6451),i=r(9821),o=r(3834),s=r(6840),a=n("Set");t.exports=function(t){var e;return s(e=t)&&"number"==typeof e.size&&i(e.has)&&i(e.keys)?t:o(t)?new a(t):t}},8149:function(t,e,r){var n=r(8583)("toStringTag"),i={};i[n]="z",t.exports="[object z]"===String(i)},3576:function(t,e,r){var n=r(4074),i=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},4263:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},8508:function(t,e,r){var n=r(2814),i=0,o=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},6254:function(t,e,r){var n=r(5946);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7174:function(t,e,r){var n=r(1360),i=r(1455);t.exports=n&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},709:function(t,e,r){var n=r(456),i=r(9821),o=n.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8583:function(t,e,r){var n=r(456),i=r(9263),o=r(5848),s=r(8508),a=r(5946),c=r(6254),u=n.Symbol,h=i("wks"),l=c?u.for||u:u&&u.withoutSetter||s;t.exports=function(t){return!o(h,t)&&(h[t]=a&&o(u,t)?u[t]:l("Symbol."+t)),h[t]}},2394:function(t,e,r){var n=r(7341),i=r(7670),o=r(555),s=r(2919),a=r(6182),c=r(1455)(function(){return 4294967297!==[].push.call({length:4294967296},1)});n({target:"Array",proto:!0,arity:1,forced:c||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),r=o(e),n=arguments.length;a(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return s(e,r),r}})},7886:function(t,e,r){var n=r(7341),i=r(794);n({target:"Set",proto:!0,real:!0,forced:!r(7209)("difference")},{difference:i})},5451:function(t,e,r){var n=r(7341),i=r(1455),o=r(5126);n({target:"Set",proto:!0,real:!0,forced:!r(7209)("intersection")||i(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:o})},6015:function(t,e,r){var n=r(7341),i=r(2932);n({target:"Set",proto:!0,real:!0,forced:!r(7209)("isDisjointFrom")},{isDisjointFrom:i})},8334:function(t,e,r){var n=r(7341),i=r(5970);n({target:"Set",proto:!0,real:!0,forced:!r(7209)("isSubsetOf")},{isSubsetOf:i})},4880:function(t,e,r){var n=r(7341),i=r(5267);n({target:"Set",proto:!0,real:!0,forced:!r(7209)("isSupersetOf")},{isSupersetOf:i})},5643:function(t,e,r){var n=r(7341),i=r(8936);n({target:"Set",proto:!0,real:!0,forced:!r(7209)("symmetricDifference")},{symmetricDifference:i})},9761:function(t,e,r){var n=r(7341),i=r(2688);n({target:"Set",proto:!0,real:!0,forced:!r(7209)("union")},{union:i})},9929:function(t,e,r){var n=r(7341),i=r(7494),o=r(5085),s=r(6539),a=r(6840),c=r(4894),u=r(425),h=r(7056),l=r(1564),f=r(3294),d=u(function(t){var e=this,r=e.iterator,n=e.predicate;return new t(function(o,c){var u=function(t){e.done=!0,c(t)},f=function(t){l(r,u,t,u)},d=function(){try{t.resolve(s(i(e.next,r))).then(function(r){try{if(s(r).done)e.done=!0,o(h(void 0,!0));else{var i=r.value;try{var c=n(i,e.counter++),l=function(t){t?o(h(i,!1)):d()};a(c)?t.resolve(c).then(l,f):l(c)}catch(t){f(t)}}}catch(t){u(t)}},u)}catch(t){u(t)}};d()})});n({target:"AsyncIterator",proto:!0,real:!0,forced:f},{filter:function(t){return s(this),o(t),new d(c(this),{predicate:t})}})},793:function(t,e,r){var n=r(7341),i=r(4662).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return i(this,t)}})},5646:function(t,e,r){var n=r(7341),i=r(4662).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return i(this,t)}})},9560:function(t,e,r){var n=r(7341),i=r(2314);n({target:"AsyncIterator",proto:!0,real:!0,forced:r(3294)},{map:i})},3479:function(t,e,r){var n=r(7341),i=r(7494),o=r(5085),s=r(6539),a=r(6840),c=r(6451),u=r(4894),h=r(1564),l=c("Promise"),f=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){s(this),o(t);var e=u(this),r=e.iterator,n=e.next,c=arguments.length<2,d=c?void 0:arguments[1],p=0;return new l(function(e,o){var u=function(t){h(r,o,t,o)},g=function(){try{l.resolve(s(i(n,r))).then(function(r){try{if(s(r).done)c?o(new f("Reduce of empty iterator with no initial value")):e(d);else{var n=r.value;if(c)c=!1,d=n,g();else try{var i=t(d,n,p),h=function(t){d=t,g()};a(i)?l.resolve(i).then(h,u):h(i)}catch(t){u(t)}}p++}catch(t){o(t)}},o)}catch(t){o(t)}};g()})}})},5123:function(t,e,r){var n=r(7341),i=r(456),o=r(591),s=r(6539),a=r(9821),c=r(3424),u=r(2749),h=r(2250),l=r(1455),f=r(5848),d=r(8583),p=r(3865).IteratorPrototype,g=r(1360),y=r(3294),v="constructor",m="Iterator",w=d("toStringTag"),x=TypeError,b=i[m],S=y||!a(b)||b.prototype!==p||!l(function(){b({})}),I=function(){if(o(this,p),c(this)===p)throw new x("Abstract class Iterator not directly constructable")},E=function(t,e){g?u(p,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===p)throw new x("You can't redefine this property");f(this,t)?this[t]=e:h(this,t,e)}}):p[t]=e};!f(p,w)&&E(w,m),(S||!f(p,v)||p[v]===Object)&&E(v,I),I.prototype=p,n({global:!0,constructor:!0,forced:S},{Iterator:I})},6301:function(t,e,r){var n=r(7341),i=r(7494),o=r(5085),s=r(6539),a=r(4894),c=r(1878),u=r(892),h=r(3294),l=c(function(){for(var t,e,r=this.iterator,n=this.predicate,o=this.next;;){if(t=s(i(o,r)),this.done=!!t.done)return;if(u(r,n,[e=t.value,this.counter++],!0))return e}});n({target:"Iterator",proto:!0,real:!0,forced:h},{filter:function(t){return s(this),o(t),new l(a(this),{predicate:t})}})},102:function(t,e,r){var n=r(7341),i=r(5249),o=r(5085),s=r(6539),a=r(4894);n({target:"Iterator",proto:!0,real:!0},{find:function(t){s(this),o(t);var e=a(this),r=0;return i(e,function(e,n){if(t(e,r++))return n(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},9774:function(t,e,r){var n=r(7341),i=r(5249),o=r(5085),s=r(6539),a=r(4894);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){s(this),o(t);var e=a(this),r=0;i(e,function(e){t(e,r++)},{IS_RECORD:!0})}})},9734:function(t,e,r){var n=r(7341),i=r(3228);n({target:"Iterator",proto:!0,real:!0,forced:r(3294)},{map:i})},3366:function(t,e,r){var n=r(7341),i=r(5249),o=r(5085),s=r(6539),a=r(4894),c=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){s(this),o(t);var e=a(this),r=arguments.length<2,n=r?void 0:arguments[1],u=0;if(i(e,function(e){r?(r=!1,n=e):n=t(n,e,u),u++},{IS_RECORD:!0}),r)throw new c("Reduce of empty iterator with no initial value");return n}})},4912:function(t,e,r){var n=r(7341),i=r(2760),o=r(4692).remove;n({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),r=!0,n=0,s=arguments.length;n<s;n++)t=o(e,arguments[n]),r=r&&t;return!!r}})},78:function(t,e,r){var n=r(7341),i=r(2760),o=r(4692),s=o.get,a=o.has,c=o.set;n({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,e){var r,n,o=i(this);return a(o,t)?(r=s(o,t),"update"in e&&(r=e.update(r,t,o),c(o,t,r)),r):(n=e.insert(t,o),c(o,t,n),n)}})},1416:function(t,e,r){var n=r(7341),i=r(7722),o=r(2760),s=r(4694);n({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!1!==s(e,function(t,n){if(!r(t,n,e))return!1},!0)}})},9975:function(t,e,r){var n=r(7341),i=r(7722),o=r(2760),s=r(4692),a=r(4694),c=s.Map,u=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return a(e,function(t,i){r(t,i,e)&&u(n,i,t)}),n}})},8023:function(t,e,r){var n=r(7341),i=r(7722),o=r(2760),s=r(4694);n({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=s(e,function(t,n){if(r(t,n,e))return{key:n}},!0);return n&&n.key}})},1998:function(t,e,r){var n=r(7341),i=r(7722),o=r(2760),s=r(4694);n({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=s(e,function(t,n){if(r(t,n,e))return{value:t}},!0);return n&&n.value}})},7527:function(t,e,r){var n=r(7341),i=r(8620),o=r(2760),s=r(4694);n({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===s(o(this),function(e){if(i(e,t))return!0},!0)}})},4749:function(t,e,r){var n=r(7341),i=r(2760),o=r(4694);n({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=o(i(this),function(e,r){if(e===t)return{key:r}},!0);return e&&e.key}})},7881:function(t,e,r){var n=r(7341),i=r(7722),o=r(2760),s=r(4692),a=r(4694),c=s.Map,u=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return a(e,function(t,i){u(n,r(t,i,e),t)}),n}})},9365:function(t,e,r){var n=r(7341),i=r(7722),o=r(2760),s=r(4692),a=r(4694),c=s.Map,u=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return a(e,function(t,i){u(n,i,r(t,i,e))}),n}})},2592:function(t,e,r){var n=r(7341),i=r(2760),o=r(5249),s=r(4692).set;n({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var e=i(this),r=arguments.length,n=0;n<r;)o(arguments[n++],function(t,r){s(e,t,r)},{AS_ENTRIES:!0});return e}})},1819:function(t,e,r){var n=r(7341),i=r(5085),o=r(2760),s=r(4694),a=TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),r=arguments.length<2,n=r?void 0:arguments[1];if(i(t),s(e,function(i,o){r?(r=!1,n=i):n=t(n,i,o,e)}),r)throw new a("Reduce of empty map with no initial value");return n}})},5614:function(t,e,r){var n=r(7341),i=r(7722),o=r(2760),s=r(4694);n({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!0===s(e,function(t,n){if(r(t,n,e))return!0},!0)}})},7628:function(t,e,r){var n=r(7341),i=r(5085),o=r(2760),s=r(4692),a=TypeError,c=s.get,u=s.has,h=s.set;n({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var r=o(this),n=arguments.length;i(e);var s=u(r,t);if(!s&&n<3)throw new a("Updating absent value");var l=s?c(r,t):i(n>2?arguments[2]:void 0)(t,r);return h(r,t,e(l,t,r)),r}})},8558:function(t,e,r){var n=r(7341),i=r(7791),o=r(1718).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=i(this),e=0,r=arguments.length;e<r;e++)o(t,arguments[e]);return t}})},7980:function(t,e,r){var n=r(7341),i=r(7791),o=r(1718).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),r=!0,n=0,s=arguments.length;n<s;n++)t=o(e,arguments[n]),r=r&&t;return!!r}})},6236:function(t,e,r){var n=r(7341),i=r(7494),o=r(5010),s=r(794);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return i(s,this,o(t))}})},8253:function(t,e,r){r(7886)},2833:function(t,e,r){var n=r(7341),i=r(7722),o=r(7791),s=r(6137);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!1!==s(e,function(t){if(!r(t,t,e))return!1},!0)}})},7906:function(t,e,r){var n=r(7341),i=r(7722),o=r(7791),s=r(1718),a=r(6137),c=s.Set,u=s.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return a(e,function(t){r(t,t,e)&&u(n,t)}),n}})},2114:function(t,e,r){var n=r(7341),i=r(7722),o=r(7791),s=r(6137);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=s(e,function(t){if(r(t,t,e))return{value:t}},!0);return n&&n.value}})},2613:function(t,e,r){var n=r(7341),i=r(7494),o=r(5010),s=r(5126);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return i(s,this,o(t))}})},8708:function(t,e,r){r(5451)},874:function(t,e,r){var n=r(7341),i=r(7494),o=r(5010),s=r(2932);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return i(s,this,o(t))}})},921:function(t,e,r){r(6015)},2240:function(t,e,r){var n=r(7341),i=r(7494),o=r(5010),s=r(5970);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return i(s,this,o(t))}})},1505:function(t,e,r){r(8334)},8675:function(t,e,r){var n=r(7341),i=r(7494),o=r(5010),s=r(5267);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return i(s,this,o(t))}})},7007:function(t,e,r){r(4880)},6857:function(t,e,r){var n=r(7341),i=r(2814),o=r(7791),s=r(6137),a=r(3576),c=i([].join),u=i([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=o(this),r=void 0===t?",":a(t),n=[];return s(e,function(t){u(n,t)}),c(n,r)}})},8137:function(t,e,r){var n=r(7341),i=r(7722),o=r(7791),s=r(1718),a=r(6137),c=s.Set,u=s.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return a(e,function(t){u(n,r(t,t,e))}),n}})},6501:function(t,e,r){var n=r(7341),i=r(5085),o=r(7791),s=r(6137),a=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),r=arguments.length<2,n=r?void 0:arguments[1];if(i(t),s(e,function(i){r?(r=!1,n=i):n=t(n,i,i,e)}),r)throw new a("Reduce of empty set with no initial value");return n}})},6834:function(t,e,r){var n=r(7341),i=r(7722),o=r(7791),s=r(6137);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!0===s(e,function(t){if(r(t,t,e))return!0},!0)}})},1549:function(t,e,r){var n=r(7341),i=r(7494),o=r(5010),s=r(8936);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return i(s,this,o(t))}})},8335:function(t,e,r){r(5643)},3485:function(t,e,r){var n=r(7341),i=r(7494),o=r(5010),s=r(2688);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return i(s,this,o(t))}})},5440:function(t,e,r){r(9761)}},d={};function p(t){var e=d[t];if(void 0!==e)return e.exports;var r=d[t]={exports:{}};return f[t].call(r.exports,r,r.exports,p),r.exports}p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),p.p="/",p.rv=function(){return"1.0.5"},p.ruid="bundler=rspack@1.0.5";class g{x;y;static ORIGIN=g.zero();constructor(t,e){this.x=t,this.y=e}static from(t){return new g(t.x,t.y)}static zero(){return new g(0,0)}static angle(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}static add(t,e){return g.from(t).add(e)}static addScalar(t,e){return g.from(t).addScalar(e)}static subtract(t,e){return g.from(t).subtract(e)}static subtractScalar(t,e){return g.from(t).subtractScalar(e)}static multiply(t,e){return g.from(t).multiply(e)}static multiplyScalar(t,e){return g.from(t).multiplyScalar(e)}static divide(t,e){return g.from(t).divide(e)}static divideScalar(t,e){return g.from(t).divideScalar(e)}static distanceBetween(t,e){return Math.sqrt(g.distanceBetweenSquared(t,e))}static distanceBetweenSquared(t,e){let r=t.x-e.x;return Math.pow(r,2)+Math.pow(t.y-e.y,2)}static isZero(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return g.equals(g.ORIGIN,t,e)}static isNan(t){return isNaN(t.x)||isNaN(t.y)}static equals(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.EPSILON;return Math.abs(t.x-e.x)<r&&Math.abs(t.y-e.y)<r}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}subtractScalar(t){return this.x-=t,this.y-=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.x/=t,this.y/=t,this}distanceTo(t){return g.distanceBetween(this,t)}distanceToSquared(t){return g.distanceBetweenSquared(this,t)}isZero(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.EPSILON;return g.isZero(this,t)}isNan(){return g.isNan(this)}equals(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return g.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this}clone(){return new g(this.x,this.y)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1);return`Pnt2(x:${t}, y:${e})`}}class y{x;y;constructor(t,e){this.x=t,this.y=e}get magnitude(){return y.getMagnitude(this)}set magnitude(t){let e=this.angle;this.x=t*Math.cos(e),this.y=t*Math.sin(e)}get magnitudeSquared(){return y.getMagnitudeSquared(this)}get angle(){return y.getAngle(this)}set angle(t){let e=this.magnitude;this.x=e*Math.cos(t),this.y=e*Math.sin(t)}static identity(){return new y(1,1)}static fromAngle(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new y(0,0);return r.magnitude=e,r.angle=t,r}static from(t){return new y(t.x,t.y)}static zero(){return new y(0,0)}static getAngle(t){return Math.atan2(t.y,t.x)}static getMagnitude(t){return Math.sqrt(y.getMagnitudeSquared(t))}static getMagnitudeSquared(t){return Math.pow(t.x,2)+Math.pow(t.y,2)}static dot(t,e){return t.x*e.x+t.y*e.y}static normalize(t){return y.from(t).normalize()}static rotate(t,e){return y.from(t).rotate(e)}static add(t,e){return y.from(t).add(e)}static addScalar(t,e){return y.from(t).addScalar(e)}static subtract(t,e){return y.from(t).subtract(e)}static subtractScalar(t,e){return y.from(t).subtractScalar(e)}static multiply(t,e){return y.from(t).multiply(e)}static multiplyScalar(t,e){return y.from(t).multiplyScalar(e)}static divide(t,e){return y.from(t).divide(e)}static divideScalar(t,e){return y.from(t).divideScalar(e)}static negate(t){return y.from(t).negate()}static abs(t){return y.from(t).abs()}static isZero(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return y.equals(g.ORIGIN,t,e)}static isNan(t){return isNaN(t.x)||isNaN(t.y)}static equals(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.EPSILON;return Math.abs(t.x-e.x)<r&&Math.abs(t.y-e.y)<r}dot(t){return this.x*t.x+this.y*t.y}normalize(){let t=this.magnitude;return this.x/=t||1,this.y/=t||1,this}rotate(t){let e=Math.sin(t),r=Math.cos(t),n=this.x,i=this.y;return this.x=r*n-e*i,this.y=e*n+r*i,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}subtractScalar(t){return this.x-=t,this.y-=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.x/=t,this.y/=t,this}negate(){return this.x*=-1,this.y*=-1,this}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}isZero(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.EPSILON;return y.equals(this,g.ORIGIN,t)}isNan(){return y.isNan(this)}equals(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return y.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this}clone(){return new y(this.x,this.y)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1);return`Vec2(x:${t}, y:${e})`}}!function(t){t[t.OPTIONAL=0]="OPTIONAL",t[t.NONE=1]="NONE",t[t.SINGLE=2]="SINGLE",t[t.VARYING=3]="VARYING"}(t||(t={})),!function(t){let e=0;t.next=function(){return e++};t.fromComponent=function(t){let e=t.constructor,r=e.id;if(void 0===r)throw Error(`Given component of type '${e.name}' does not have a component constructor.`);return r}}(e||(e={})),!function(t){t[t.GROUNDED=0]="GROUNDED",t[t.AIRBORNE=1]="AIRBORNE",t[t.SUBMERGED=2]="SUBMERGED"}(r||(r={})),!function(t){t[t.NORTH=0]="NORTH",t[t.EAST=1]="EAST",t[t.SOUTH=2]="SOUTH",t[t.WEST=3]="WEST"}(n||(n={})),!function(t){t[t.IDLE=0]="IDLE",t[t.WALKING=1]="WALKING",t[t.RUNNING=2]="RUNNING",t[t.JUMPING=3]="JUMPING",t[t.GLIDING=4]="GLIDING",t[t.FALLING=5]="FALLING"}(i||(i={}));class v{locationState;movementState;facingDirection;static id=e.next();constructor(t,e,r){this.locationState=t,this.movementState=e,this.facingDirection=r}}!function(t){t.IDLE="IDLE",t.WALKING="WALKING",t.RUNNING="RUNNING",t.JUMPING="JUMPING"}(o||(o={}));class m{frames;frameTimeSeconds;playing;currentTime;currentFrame;constructor(t,e=0){this.frames=t,this.frameTimeSeconds=e,this.playing=!0,this.currentTime=0,this.currentFrame=0}getFrame(){return this.frames[this.currentFrame]}tick(t){if(!!this.playing)for(this.currentTime+=t;this.currentTime>=this.frameTimeSeconds;)this.currentTime-=this.frameTimeSeconds,this.currentFrame=(this.currentFrame+1)%this.frames.length}resume(){this.playing=!0}pause(){this.playing=!1}stop(){this.playing=!1,this.reset()}reset(){this.currentFrame=0,this.currentTime=0}}class w{animations;currentState;static id=e.next();speedModifier;constructor(t,e){this.animations=t,this.currentState=e,this.speedModifier=1}play(t){t!==this.currentState&&this.animations.hasOwnProperty(t)&&(this.reset(),this.currentState=t)}getImage(){return this.animations[this.currentState].getFrame()}tick(t){this.animations[this.currentState].tick(t*this.speedModifier)}resume(){this.animations[this.currentState].resume()}pause(){this.animations[this.currentState].pause()}stop(){this.animations[this.currentState].stop()}reset(){this.speedModifier=1,this.animations[this.currentState].reset()}}class x{width;height;constructor(t,e){this.width=t,this.height=e}static from(t){return new x(t.width,t.height)}equals(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return Math.abs(this.width-t.width)<e&&Math.abs(this.height-t.height)<e}isNan(){return isNaN(this.width)||isNaN(this.height)}copy(t){return this.width=t.width,this.height=t.height,this}clone(){return new x(this.width,this.height)}toString(){let t=this.width.toFixed(1),e=this.height.toFixed(1);return`Dim2(w:${t}, h:${e})`}}class b{position;rotation;scale;static id=e.next();constructor(t,e=0,r=new x(1,1)){this.position=t,this.rotation=e,this.scale=r}translate(t){this.position.x+=t.x,this.position.y+=t.y}rescale(t){this.scale.width*=t.x,this.scale.height*=t.y}rotate(t){this.rotation=(this.rotation+t)%(2*Math.PI)}}class S{content;position;size;static id=e.next();centered;flipX;flipY;constructor(t,e,r){this.content=t,this.position=e,this.size=r,this.centered=!0,this.flipX=!1,this.flipY=!1}}class I{static id=e.next()}class E{collider;static id=e.next();constructor(t){this.collider=t}}p("3479"),p("3366"),p("5123"),!function(e){e.fromDescriptor=function(t){return Object.values(t).reduce((t,r)=>e.addConstraint(t,r.type.id,r.constraint),0n)};e.addConstraint=function(t,e,r){return t|BigInt(r)<<2n*BigInt(e)};e.getConstraint=function(t,e){return Number(t>>2n*BigInt(e)&3n)};e.matches=function(e,r){let n=0;for(;0n!==e;){let i=Number(3n&e);if(i===t.NONE&&r.includes(n)||i===t.SINGLE&&!r.includes(n))return!1;e>>=2n,n++}return!0}}(s||(s={}));class O{descriptor;static ALL=new O({});id;getDescriptor(){return this.descriptor}constructor(t){this.descriptor=t,this.id=s.fromDescriptor(t)}static create(){return new O({})}static pickFrom(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];let i=t.getDescriptor(),o={};for(let t of r)o[t]=i[t];return new O(o)}static omitFrom(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];let i=Object.assign({},t.getDescriptor());for(let t of r)delete i[t];return new O(i)}none(e,r){return this.descriptor[e]={type:r,constraint:t.NONE},this.id=s.addConstraint(this.id,r.id,t.NONE),this}single(e,r){return this.descriptor[e]={type:r,constraint:t.SINGLE},this.id=s.addConstraint(this.id,r.id,t.SINGLE),this}varying(e,r){return this.descriptor[e]={type:r,constraint:t.VARYING},this.id=s.addConstraint(this.id,r.id,t.VARYING),this}optional(e,r){return this.descriptor[e]={type:r,constraint:t.OPTIONAL},this.id=s.addConstraint(this.id,r.id,t.OPTIONAL),this}}class N{descriptor;constructor(t){this.descriptor=t}none(e,r){return new N({...this.descriptor,[e]:{type:r,constraint:t.NONE}})}single(e,r){return new N({...this.descriptor,[e]:{type:r,constraint:t.SINGLE}})}varying(e,r){return new N({...this.descriptor,[e]:{type:r,constraint:t.VARYING}})}optional(e,r){return new N({...this.descriptor,[e]:{type:r,constraint:t.OPTIONAL}})}build(){return new M(this.descriptor)}}class M{descriptor;id;getDescriptor(){return this.descriptor}constructor(t){this.descriptor=t,this.id=s.fromDescriptor(t)}static builder(){return new N({})}}let R=M.builder().single("transform",b).single("character",v).single("controlled",I).single("collidable",E).single("drawable",S).single("animated",w).build();class P{update(t,e){let{entities:s,inputs:a}=t,c=s.queryFirstEntity(R);if(!c)return;let{transform:{position:u},character:h,animated:l,drawable:f}=c,d=y.zero();switch(a.isKeyPressed("ArrowLeft")&&(d.x-=1,h.facingDirection=n.WEST),a.isKeyPressed("ArrowRight")&&(d.x+=1,h.facingDirection=n.EAST),a.isKeyPressed("ArrowUp")&&(d.y-=1),a.isKeyPressed("ArrowDown")&&(d.y+=1),d.normalize().multiplyScalar(300),h.facingDirection===n.WEST?f.flipX=!0:h.facingDirection===n.EAST&&(f.flipX=!1),d.isZero()?h.movementState=i.IDLE:(a.isKeyPressed("Shift")?(d.multiplyScalar(2),l.speedModifier=2,h.movementState=i.RUNNING):(l.speedModifier=1,h.movementState=i.WALKING),h.locationState===r.GROUNDED&&a.isKeyPressed(" ")&&(h.movementState=i.JUMPING)),h.movementState){case i.IDLE:l.play(o.IDLE);break;case i.WALKING:l.play(o.WALKING);break;case i.RUNNING:l.play(o.RUNNING);break;case i.JUMPING:l.play(o.JUMPING)}u.x+=d.x*e,u.y+=d.y*e}}function C(t,e){return Math.min(Math.max(t,e.min),e.max)}p("9929"),p("6301"),p("2394");class A{start;end;constructor(t,e){this.start=t,this.end=e}static from(t){return new A(g.from(t.start),g.from(t.end))}static intersectCircle(t,e){let r=t.end.x-t.start.x,n=t.end.y-t.start.y,i=t.start.x-e.center.x,o=t.start.y-e.center.y,s=r*r+n*n,a=2*(i*r+o*n),c=a*a-4*s*(i*i+o*o-e.radius*e.radius);if(c<0)return null;let u=(-a+Math.sqrt(c))/(2*s),h=(-a-Math.sqrt(c))/(2*s),l=[];return u>=0&&u<=1&&l.push(g.from({x:t.start.x+u*r,y:t.start.y+u*n})),h>=0&&h<=1&&l.push(g.from({x:t.start.x+h*r,y:t.start.y+h*n})),l}static intersectLine(t,e){let r=(e.end.y-e.start.y)*(t.end.x-t.start.x)-(e.end.x-e.start.x)*(t.end.y-t.start.y);if(0===r)return null;let n=((e.end.x-e.start.x)*(t.start.y-e.start.y)-(e.end.y-e.start.y)*(t.start.x-e.start.x))/r,i=((t.end.x-t.start.x)*(t.start.y-e.start.y)-(t.end.y-t.start.y)*(t.start.x-e.start.x))/r;return n<0||n>1||i<0||i>1?null:g.from({x:t.start.x+n*(t.end.x-t.start.x),y:t.start.y+n*(t.end.y-t.start.y)})}static equals(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.EPSILON;return g.equals(t.start,e.start,r)&&g.equals(t.end,e.end,r)}intersectCircle(t){return A.intersectCircle(this,t)}intersectLine(t){return A.intersectLine(this,t)}equals(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return A.equals(this,t,e)}copy(t){return this.start.x=t.start.x,this.start.y=t.start.y,this.end.x=t.end.x,this.end.y=t.end.y,this}clone(){return new A(this.start,this.end)}toString(){let t=this.start.x.toFixed(1),e=this.start.y.toFixed(1),r=this.end.x.toFixed(1),n=this.end.y.toFixed(1);return`Line2(startX:${t}, startY:${e}, endX:${r}, endY:${n})`}}class T{radius;_center;constructor(t,e,r){this.radius=r,this._center=new g(t,e)}get center(){return this._center}static from(t){return new T(t.center.x,t.center.y,t.radius)}static getClosestPoint(t,e){let r=y.from(e).subtract(t.center).normalize().multiplyScalar(t.radius);return g.from(t.center).add(r)}static containsPoint(t,e){let r=t.center.distanceToSquared(e);return r<=Math.pow(t.radius,2)}static containsRect(t,e){let r=Math.max(t.center.x-e.x,e.x+e.width-t.center.x),n=Math.pow(r,2)+Math.pow(Math.max(t.center.y-e.y,e.y+e.height-t.center.y),2);return n<=Math.pow(t.radius,2)}static containsCircle(t,e){let r=t.center.distanceToSquared(e.center),n=Math.pow(e.radius,2);return r+n<=Math.pow(t.radius,2)}static overlapsRect(t,e){return L.overlapsCircle(e,t)}static overlapsCircle(t,e){let r=t.center.distanceToSquared(e.center);return r<=Math.pow(t.radius+e.radius,2)}static getRectIntersectionPoints(t,e){return L.getCircleIntersectionPoints(e,t)}static getCircleIntersectionPoints(t,e){let r=e.center.x-t.center.x,n=e.center.y-t.center.y,i=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));if(i>t.radius+e.radius||i<Math.abs(t.radius-e.radius))return[];let o=(Math.pow(t.radius,2)-Math.pow(e.radius,2)+Math.pow(i,2))/(2*i),s={x:t.center.x+r*o/i,y:t.center.y+n*o/i},a=Math.sqrt(Math.pow(t.radius,2)-Math.pow(o,2)),c={x:-(a/i*n),y:a/i*r};return[g.from(s).add(c),g.from(s).subtract(c)]}static intersectRect(t,e){return L.intersectCircle(e,t)}static intersectCircle(t,e){return T.overlapsCircle(t,e)?L.intersectRect(T.getBoundingRect(t),T.getBoundingRect(e)):T.containsCircle(t,e)?T.getBoundingRect(e):T.containsCircle(e,t)?T.getBoundingRect(t):null}static getBoundingRect(t){let e=2*t.radius;return new L(t.center.x-t.radius,t.center.y-t.radius,e,e)}static equals(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.EPSILON;return Math.abs(t.center.x-e.center.x)<r&&Math.abs(t.center.y-e.center.y)<r&&Math.abs(t.radius-e.radius)<r}getClosestPoint(t){return T.getClosestPoint(this,t)}containsPoint(t){return T.containsPoint(this,t)}containsRect(t){return T.containsRect(this,t)}containsCircle(t){return T.containsCircle(this,t)}overlapsRect(t){return T.overlapsRect(this,t)}overlapsCircle(t){return T.overlapsCircle(this,t)}getRectIntersectionPoints(t){return T.getRectIntersectionPoints(this,t)}getCircleIntersectionPoints(t){return T.getCircleIntersectionPoints(this,t)}intersectRect(t){return T.intersectRect(this,t)}intersectCircle(t){return T.intersectCircle(this,t)}getBoundingRect(){return T.getBoundingRect(this)}equals(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return T.equals(this,t,e)}copy(t){return this._center.x=t.center.x,this._center.y=t.center.y,this.radius=t.radius,this}clone(){return new T(this.center.x,this.center.y,this.radius)}toString(){let t=this.center.x.toFixed(1),e=this.center.y.toFixed(1),r=this.radius.toFixed(1);return`Circle(x:${t}, y:${e}, r:${r})`}}class L{x;y;width;height;constructor(t,e,r,n){this.x=t,this.y=e,this.width=r,this.height=n}get center(){return L.getCenter(this)}get left(){return L.getLeft(this)}get right(){return L.getRight(this)}get top(){return L.getTop(this)}get bottom(){return L.getBottom(this)}get topLeft(){return L.getTopLeft(this)}get topRight(){return L.getTopRight(this)}get bottomLeft(){return L.getBottomLeft(this)}get bottomRight(){return L.getBottomRight(this)}get corners(){return L.getCorners(this)}get edges(){return L.getEdges(this)}static from(t){return new L(t.x,t.y,t.width,t.height)}static getCenter(t){return new g(t.x+t.width/2,t.y+t.height/2)}static getLeft(t){return t.x}static getRight(t){return t.x+t.width}static getTop(t){return t.y}static getBottom(t){return t.y+t.height}static getTopLeft(t){return new g(t.x,t.y)}static getTopRight(t){return new g(t.x+t.width,t.y)}static getBottomLeft(t){return new g(t.x,t.y+t.height)}static getBottomRight(t){return new g(t.x+t.width,t.y+t.height)}static getCorners(t){return[L.getTopLeft(t),L.getTopRight(t),L.getBottomRight(t),L.getBottomLeft(t)]}static getEdges(t){let e=L.getCorners(t);return[new A(e[0],e[1]),new A(e[1],e[2]),new A(e[2],e[3]),new A(e[3],e[0])]}static getClosestPoint(t,e){let r=g.from(e),n=t.x,i=t.y,o=n+t.width,s=i+t.height;if(L.containsPoint(t,e)){let t=n-r.x,e=i-r.y,a=o-r.x,c=s-r.y,u=Math.min(Math.min(t,a),Math.min(e,c));return u===t?r.x=n:u===a&&(r.x=o),u===e?r.y=i:u===c&&(r.y=s),r}return r.x=C(e.x,{min:n,max:o}),r.y=C(e.y,{min:i,max:s}),r}static containsPoint(t,e){return t.x<=e.x&&t.x+t.width>=e.x&&t.y<=e.y&&t.y+t.height>=e.y}static containsRect(t,e){return t.x<=e.x&&t.x+t.width>=e.x+e.width&&t.y<=e.y&&t.y+t.height>=e.y+e.height}static containsCircle(t,e){if(!L.containsPoint(t,e.center))return!1;let r=L.getClosestPoint(t,e.center).distanceToSquared(e.center);return Math.pow(e.radius,2)<=r}static overlapsRect(t,e){return t.x+t.width>=e.x&&t.x<=e.x+e.width&&t.y+t.height>=e.y&&t.y<=e.y+e.height}static overlapsCircle(t,e){if(L.containsPoint(t,e.center))return!0;let r=L.getClosestPoint(t,e.center);return T.containsPoint(e,r)}static getRectIntersectionPoints(t,e){if(!L.overlapsRect(t,e))return[];let r=L.getEdges(t),n=L.getEdges(e),i=[];for(let t of r)for(let e of n){let r=A.intersectLine(t,e);r&&i.push(r)}return i}static getCircleIntersectionPoints(t,e){let r=L.getEdges(t),n=[];for(let t of r){let r=A.intersectCircle(t,e);r&&n.push(...r)}return n}static intersectRect(t,e){let r=Math.max(t.x,e.x),n=Math.min(t.x+t.width,e.x+e.width),i=Math.max(t.y,e.y),o=Math.min(t.y+t.height,e.y+e.height),s=n-r,a=o-i;return s<=0||a<=0?null:new L(r,i,s,a)}static intersectCircle(t,e){return L.intersectRect(t,T.getBoundingRect(e))}static getBoundingRect(t){return L.from(t)}static equals(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.EPSILON;return Math.abs(t.x-e.x)<r&&Math.abs(t.y-e.y)<r&&Math.abs(t.x+t.width-e.x+e.width)<r&&Math.abs(t.y+t.height-e.y+e.height)<r}getClosestPoint(t){return L.getClosestPoint(this,t)}containsPoint(t){return L.containsPoint(this,t)}containsRect(t){return L.containsRect(this,t)}containsCircle(t){return L.containsCircle(this,t)}overlapsRect(t){return L.overlapsRect(this,t)}overlapsCircle(t){return L.overlapsCircle(this,t)}getRectIntersectionPoints(t){return L.getRectIntersectionPoints(this,t)}getCircleIntersectionPoints(t){return L.getCircleIntersectionPoints(this,t)}intersectRect(t){return L.intersectRect(this,t)}intersectCircle(t){return L.intersectCircle(this,t)}getBoundingRect(){return L.getBoundingRect(this)}equals(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;return L.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}clone(){return new L(this.x,this.y,this.width,this.height)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1),r=this.width.toFixed(1),n=this.height.toFixed(1);return`Rect(x:${t}, y:${e}, w:${r}, h:${n})`}}class j{mass;velocity;static id=e.next();constructor(t,e=y.zero()){this.mass=t,this.velocity=e}}let D=M.builder().single("transform",b).optional("physical",j).optional("collidable",E).build();class F{update(t,e){let{entities:r}=t,n=r.queryAllEntities(D).filter(t=>!!t.collidable);for(let t=0;t<n.length;t++){let{transform:e,collidable:r}=n[t],{collider:i}=r;for(let r=t+1;r<n.length;r++){let{transform:t,collidable:o}=n[r],{collider:s}=o;i instanceof T&&s instanceof T?(T.from({center:i.center.clone().add(e.position),radius:i.radius*e.scale.width}),T.from({center:s.center.clone().add(t.position),radius:s.radius*t.scale.width})):i instanceof L&&s instanceof L?(L.from({x:i.x+e.position.x,y:i.y+e.position.y,width:i.width*e.scale.width,height:i.height*e.scale.height}),L.from({x:s.x+t.position.x,y:s.y+t.position.y,width:s.width*t.scale.width,height:s.height*t.scale.height})):i instanceof T&&s instanceof L?(T.from({center:i.center.clone().add(e.position),radius:i.radius*e.scale.width}),L.from({x:s.x+t.position.x,y:s.y+t.position.y,width:s.width*t.scale.width,height:s.height*t.scale.height})):i instanceof L&&s instanceof T&&(L.from({x:i.x+e.position.x,y:i.y+e.position.y,width:i.width*e.scale.width,height:i.height*e.scale.height}),T.from({center:s.center.clone().add(t.position),radius:s.radius*t.scale.width}))}}}handleCircleCircleCollision(){}handleRectRectCollision(){}handleCircleRectCollision(){}}class G{update(t,e){let{entities:r}=t,n=O.create().single("animated",w).optional("drawable",S);for(let{animated:t,drawable:i}of r.queryAllEntities(n))t.tick(e),i&&(i.content=t.getImage())}}class B{size;color;static id=e.next();constructor(t,e){this.size=t,this.color=e}}let k=M.builder().single("transform",b).single("rectangle",B).optional("physical",j).optional("collidable",E).build();class q{radius;color;static id=e.next();constructor(t,e){this.radius=t,this.color=e}}let U=M.builder().single("transform",b).single("circle",q).optional("physical",j).optional("collidable",E).build(),z=2*Math.PI;class _{context;constructor(t){this.context=t}update(t,e){let{entities:r}=t;this.clear(),this.renderBoxes(r),this.renderBalls(r)}clear(){let t=this.context,e=t.canvas;t.clearRect(0,0,e.width,e.height)}renderBoxes(t){let e=this.context;for(let r of t.queryAllEntities(k)){let{transform:{position:t},rectangle:{size:n,color:i}}=r;e.fillStyle=i.toRgbCssString(),e.fillRect(t.x,t.y,n.width,n.height)}}renderBalls(t){let e=this.context;for(let r of t.queryAllEntities(U)){let{transform:{position:t},circle:{radius:n,color:i}}=r;e.beginPath(),e.fillStyle=i.toRgbCssString(),e.arc(t.x,t.y,n,0,z),e.fill()}}}let K=M.builder().single("transform",b).single("drawable",S).build();class ${context;constructor(t){this.context=t}update(t,e){let{entities:r}=t,n=this.context;for(let t of r.queryAllEntities(K)){let{transform:e,drawable:r}=t,{content:i,size:o,position:s,centered:a,flipX:c,flipY:u}=r;n.save(),n.imageSmoothingEnabled=!1;let h=e.position.x+s.x,l=e.position.y+s.y;a&&(h-=o.width/2,l-=o.height/2),c&&(n.scale(-1,1),h=-h-o.width),u&&(n.scale(-1,1),l=-l-o.height),n.drawImage(i,h,l,o.width,o.height),n.restore()}}}class W{r;g;b;a;constructor(t,e,r,n=1){this.r=t,this.g=e,this.b=r,this.a=n}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}clone(){return new W(this.r,this.g,this.b,this.a)}toRgbCssString(){return`rgb(${this.r} ${this.g} ${this.b} / ${100*this.a}%)`}toString(){return`Rgba(${this.r.toString(16)}${this.g.toString(16)}${this.b.toString(16)}${this.a.toString(16)})`}}let H=2*Math.PI;class V{context;lengthModifier;constructor(t,e=1){this.context=t,this.lengthModifier=e}update(t,e){let{entities:r}=t,n=this.context;for(let t of r.queryAllEntities(D).filter(t=>!!t.physical)){let{transform:{position:e},physical:r}=t,{velocity:i}=r;n.lineWidth=3,n.strokeStyle="black",n.lineCap="butt",n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(e.x+i.x*this.lengthModifier,e.y+i.y*this.lengthModifier),n.stroke()}}}class Y{context;static INTERSECTION_POINT_COLOR=new W(255,0,0,.8);static INTERSECTION_BOX_COLOR=new W(255,0,0,.4);constructor(t){this.context=t}update(t,e){let{entities:r}=t,n=r.queryAllEntities(D).filter(t=>!!t.collidable);for(let t=0;t<n.length;t++){let{transform:e,collidable:r}=n[t],{collider:i}=r;for(let r=t+1;r<n.length;r++){let{transform:t,collidable:o}=n[r],{collider:s}=o;if(i instanceof T&&s instanceof T){let r=T.from({center:i.center.clone().add(e.position),radius:i.radius*e.scale.width}),n=T.from({center:s.center.clone().add(t.position),radius:s.radius*t.scale.width});for(let t of T.getCircleIntersectionPoints(r,n))this.renderIntersectionPoint(t);let o=T.intersectCircle(r,n);o&&this.renderCollisionBox(o)}else if(i instanceof L&&s instanceof L){let r=L.from({x:i.x+e.position.x,y:i.y+e.position.y,width:i.width*e.scale.width,height:i.height*e.scale.height}),n=L.from({x:s.x+t.position.x,y:s.y+t.position.y,width:s.width*t.scale.width,height:s.height*t.scale.height});for(let t of L.getRectIntersectionPoints(r,n))this.renderIntersectionPoint(t);let o=L.intersectRect(r,n);o&&this.renderCollisionBox(o)}else if(i instanceof T&&s instanceof L){let r=T.from({center:i.center.clone().add(e.position),radius:i.radius*e.scale.width}),n=L.from({x:s.x+t.position.x,y:s.y+t.position.y,width:s.width*t.scale.width,height:s.height*t.scale.height});for(let t of L.getCircleIntersectionPoints(n,r))this.renderIntersectionPoint(t);let o=L.intersectCircle(n,r);o&&this.renderCollisionBox(o)}else if(i instanceof L&&s instanceof T){let r=L.from({x:i.x+e.position.x,y:i.y+e.position.y,width:i.width*e.scale.width,height:i.height*e.scale.height}),n=T.from({center:s.center.clone().add(t.position),radius:s.radius*t.scale.width});for(let t of L.getCircleIntersectionPoints(r,n))this.renderIntersectionPoint(t);let o=L.intersectCircle(r,n);o&&this.renderCollisionBox(o)}}}}handleCircleCircleCollision(){}handleRectRectCollision(){}handleCircleRectCollision(){}renderIntersectionPoint(t){let e=this.context;e.beginPath(),e.fillStyle=Y.INTERSECTION_POINT_COLOR.toRgbCssString(),e.arc(t.x,t.y,4,0,H),e.fill()}renderCollisionBox(t){let e=this.context;e.beginPath(),e.fillStyle=Y.INTERSECTION_BOX_COLOR.toRgbCssString(),e.fillRect(t.x,t.y,t.width,t.height)}}class X{context;static STROKE_COLOR=new W(128,0,128,.5);static FILL_COLOR=new W(128,0,128,.2);constructor(t){this.context=t}update(t,e){let{entities:r}=t,n=this.context;for(let t of r.queryAllEntities(O.create().single("transform",b).single("collidable",E)).filter(t=>!!t.collidable)){let{transform:e,collidable:r}=t,{collider:i}=r;if(i instanceof T){let t=T.from({center:i.center.clone().add(e.position),radius:i.radius*e.scale.width});n.beginPath(),n.arc(t.center.x,t.center.y,t.radius,0,H),n.fillStyle=X.FILL_COLOR.toRgbCssString(),n.fill(),n.strokeStyle=X.STROKE_COLOR.toRgbCssString(),n.stroke()}else if(i instanceof L){let t=L.from({x:i.x+e.position.x,y:i.y+e.position.y,width:i.width*e.scale.width,height:i.height*e.scale.height});n.fillStyle=X.FILL_COLOR.toRgbCssString(),n.fillRect(t.x,t.y,t.width,t.height),n.strokeStyle=X.STROKE_COLOR.toRgbCssString(),n.strokeRect(t.x,t.y,t.width,t.height)}}}}function Q(t,e,r,n){function i(t,e){return function(r){(function(t,e){if(t.v)throw Error("attempted to call "+e+" after decoration was finished")})(e,"addInitializer"),s(r,"An initializer"),t.push(r)}}function o(t,e,r,n,o,s,a,c,u){switch(o){case 1:h="accessor";break;case 2:h="method";break;case 3:h="getter";break;case 4:h="setter";break;default:h="field"}var h,l,f,d={kind:h,name:a?"#"+e:e,static:s,private:a,metadata:c},p={v:!1};d.addInitializer=i(n,p),0===o?a?(l=r.get,f=r.set):(l=function(){return this[e]},f=function(t){this[e]=t}):2===o?l=function(){return r.value}:((1===o||3===o)&&(l=function(){return r.get.call(this)}),(1===o||4===o)&&(f=function(t){r.set.call(this,t)})),d.access=l&&f?{get:l,set:f}:l?{get:l}:{set:f};try{return t(u,d)}finally{p.v=!0}}function s(t,e){if("function"!=typeof t)throw TypeError(e+" must be a function")}function a(t,e){var r,n=typeof e;if(1===t){if("object"!==n||null===e)throw TypeError("accessor decorators must return an object with get, set, or init properties or void 0");void 0!==e.get&&s(e.get,"accessor.get"),void 0!==e.set&&s(e.set,"accessor.set"),void 0!==e.init&&s(e.init,"accessor.init")}else if("function"!==n)throw TypeError((r=0===t?"field":10===t?"class":"method")+" decorators must return a function or void 0")}function c(t,e){e&&t.push(function(t){for(var r=0;r<e.length;r++)e[r].call(t);return t})}function u(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}return(Q=function(t,e,r,n){if(void 0!==n)var s=n[Symbol.metadata||Symbol.for("Symbol.metadata")];var h=Object.create(void 0===s?null:s),l=function(t,e,r){for(var n=[],i=new Map,s=new Map,u=0;u<e.length;u++){var h,l,f,d,p=e[u];if(Array.isArray(p)){var g=p[1],y=p[2],v=p.length>3,m=g>=5;if(m?(f=t,g-=5,d=l=l||[]):(f=t.prototype,d=h=h||[]),0!==g&&!v){var w=m?s:i,x=w.get(y)||0;if(!0===x||3===x&&4!==g||4===x&&3!==g)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+y);!x&&g>2?w.set(y,g):w.set(y,!0)}!function(t,e,r,n,i,s,c,u,h){var l,f,d,p,g,y,v,m=r[0];if(c?l=0===i||1===i?{get:r[3],set:r[4]}:3===i?{get:r[3]}:4===i?{set:r[3]}:{value:r[3]}:0!==i&&(l=Object.getOwnPropertyDescriptor(e,n)),1===i?d={get:l.get,set:l.set}:2===i?d=l.value:3===i?d=l.get:4===i&&(d=l.set),"function"==typeof m)void 0!==(p=o(m,n,l,u,i,s,c,h,d))&&(a(i,p),0===i?f=p:1===i?(f=p.init,g=p.get||d.get,d={get:g,set:y=p.set||d.set}):d=p);else for(var w=m.length-1;w>=0;w--){;void 0!==(p=o(m[w],n,l,u,i,s,c,h,d))&&(a(i,p),0===i?v=p:1===i?(v=p.init,g=p.get||d.get,d={get:g,set:y=p.set||d.set}):d=p,void 0!==v&&(void 0===f?f=v:"function"==typeof f?f=[f,v]:f.push(v)))}if(0===i||1===i){if(void 0===f)f=function(t,e){return e};else if("function"!=typeof f){var x=f;f=function(t,e){for(var r=e,n=0;n<x.length;n++)r=x[n].call(t,r);return r}}else{var b=f;f=function(t,e){return b.call(t,e)}}t.push(f)}0!==i&&(1===i?(l.get=d.get,l.set=d.set):2===i?l.value=d:3===i?l.get=d:4===i&&(l.set=d),c?1===i?(t.push(function(t,e){return d.get.call(t,e)}),t.push(function(t,e){return d.set.call(t,e)})):2===i?t.push(d):t.push(function(t,e){return d.call(t,e)}):Object.defineProperty(e,n,l))}(n,f,p,y,g,m,v,d,r)}}return c(n,h),c(n,l),n}(t,e,h);return!r.length&&u(t,h),{e:l,get c(){return function(t,e,r){if(e.length>0){for(var n=[],o=t,s=t.name,c=e.length-1;c>=0;c--){var h={v:!1};try{var l=e[c](o,{kind:"class",name:s,addInitializer:i(n,h),metadata:r})}finally{h.v=!0}void 0!==l&&(a(10,l),o=l)}return[u(o,r),function(){for(var t=0;t<n.length;t++)n[t].call(o)}]}}(t,r,h)}}})(t,e,r,n)}function J(t,e){let r=e.name;if(e.private)throw Error(`'bind@' cannot decorate private properties like ${r}.`);e.addInitializer(function(){this[r]=this[r].bind(this)})}p("5646"),p("9774"),a=Symbol.iterator;class Z{data=[];insert(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;if(0===this.data.length||e===Number.MAX_VALUE){this.data.push([e,t]);return}for(let r=0;r<this.data.length;r++){if(r===this.data.length-1){this.data.push([e,t]);break}if(this.data[r][0]>e){this.data.splice(r,0,[e,t]);break}}}remove(t){let e=this.data.findIndex(e=>{let[r,n]=e;return n===t});e>=0&&this.data.splice(e,1)}peek(){return this.data[0]?.[1]??null}pop(){return this.data.pop()?.[1]??null}isEmpty(){return 0===this.data.length}size(){return this.data.length}forEach(t,e){this.data.forEach((e,r)=>{let[n,i]=e;return t(i,r,this)},e)}*[a](){for(let[t,e]of this.data)yield e}}class tt{scene;systems;constructor(t){this.scene=t,this.systems=new Z}getAll(){return this.systems}add(t){this.systems.insert(t),t.init?.(this.scene)}remove(t){this.systems.remove(t)}}p("4912"),p("78"),p("1416"),p("9975"),p("1998"),p("8023"),p("7527"),p("4749"),p("7881"),p("9365"),p("2592"),p("1819"),p("5614"),p("7628");class te{static #t={e:[c]}=Q(this,[[J,2,"handleMouseMove"],[J,2,"handleMouseDown"],[J,2,"handleMouseUp"],[J,2,"handleKeyDown"],[J,2,"handleKeyUp"]],[]);mousePosition;pressedKeys;constructor(){c(this),this.mousePosition=g.zero(),this.pressedKeys=new Map,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}getMousePosition(){return this.mousePosition}isKeyPressed(t){return this.pressedKeys.get(t)??!1}dispose(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)}handleMouseMove(t){this.mousePosition.x=t.x,this.mousePosition.y=t.y}handleMouseDown(t){1===t.buttons?this.pressedKeys.set("M1",!0):this.pressedKeys.set("M2",!0)}handleMouseUp(t){1===t.buttons?this.pressedKeys.set("M1",!1):this.pressedKeys.set("M2",!1)}handleKeyDown(t){this.pressedKeys.set(t.key,!0)}handleKeyUp(t){this.pressedKeys.set(t.key,!1)}}class tr{events=new Map;register(t,e){let r=this.events.get(t);return r?r.push(e):this.events.set(t,[e]),{unregister:()=>this.unregister(t,e)}}unregister(t,e){let r=this.events.get(t);r&&this.events.set(t,r.filter(t=>t!==e))}emit(t){let e=this.events.get(t.constructor);if(e)for(let r of e)r(t)}}p("8558"),p("7980"),p("6236"),p("8253"),p("2833"),p("7906"),p("2114"),p("2613"),p("8708"),p("874"),p("921"),p("2240"),p("1505"),p("8675"),p("7007"),p("6857"),p("8137"),p("6501"),p("6834"),p("1549"),p("8335"),p("3485"),p("5440"),p("793"),p("102"),p("9560"),p("9734"),!function(t){let e=0;t.next=function(){return e++}}(u||(u={}));class tn{componentsByEntity=new Map;entitiesByComponent=new Map;cachedQueries=new Map;createEntity(t){let e=u.next();if(this.componentsByEntity.set(e,new Map),t)for(let r of t)this.addComponent(e,r);return e}createArchetype(t,e){let r=this.createEntity(Object.values(e)),n=this.cachedQueries.get(t.id);return n?n.add(r):this.cachedQueries.set(t.id,new Set([r])),r}deleteEntity(t){for(let e of(this.componentsByEntity.delete(t),this.entitiesByComponent.values()))e.delete(t);for(let e of this.cachedQueries.values())e.delete(t)}addComponent(r,n){let i=e.fromComponent(n),o=this.entitiesByComponent.get(i);o?o.add(r):this.entitiesByComponent.set(i,new Set([r]));let a=this.componentsByEntity.get(r);if(!a)return;let c=a.get(i);c?c.push(n):a.set(i,[n]);let u=Array.from(a.keys());for(let[e,n]of this.cachedQueries.entries())n.has(r)?s.getConstraint(e,i)===t.NONE&&n.delete(r):s.matches(e,u)&&n.add(r)}removeComponent(r,n){let i=e.fromComponent(n);this.entitiesByComponent.get(i)?.delete(r);let o=this.componentsByEntity.get(r);o?.delete(i);let a=Array.from(o?.keys()??[]);for(let[e,n]of this.cachedQueries.entries())n.has(r)?s.getConstraint(e,i)===t.SINGLE&&n.delete(r):s.matches(e,a)&&n.add(r)}getFirstComponent(t,e){return this.componentsByEntity.get(t)?.get(e.id)?.[0]??null}getAllComponents(t,e){let r;let n=this.componentsByEntity.get(t);return r=n?e?n.get(e.id)??[]:Array.from(n.values()??[]).flat():[]}getAllEntities(){return Array.from(this.componentsByEntity.keys())}queryFirstEntity(t){let e;let r=this.cachedQueries.get(t.id);if(r)e=r.values().find(()=>!0)??null;else{let r=this.getAllMatchingEntities(t.id);this.cachedQueries.set(t.id,new Set(r)),e=r[0]??null}return null===e?null:this.constructEntity(e,t.getDescriptor())}queryAllEntities(t){let e;let r=this.cachedQueries.get(t.id);return r?e=Array.from(r.values()):(e=this.getAllMatchingEntities(t.id),this.cachedQueries.set(t.id,new Set(e))),e.map(e=>this.constructEntity(e,t.getDescriptor()))}getAllMatchingEntities(t){return this.componentsByEntity.entries().reduce((e,r)=>{let[n,i]=r,o=Array.from(i.keys());return s.matches(t,o)&&e.push(n),e},[])}constructEntity(e,r){let n={id:e};for(let[i,o]of Object.entries(r))switch(o.constraint){case t.VARYING:n[i]=this.getAllComponents(e,o.type);break;case t.OPTIONAL:n[i]=this.getFirstComponent(e,o.type);break;case t.SINGLE:if(n[i]=this.getFirstComponent(e,o.type),!n[i])throw Error(`Mandatory component '${i}' is missing in entity '${e}'.`);break;case t.NONE:throw Error(`Non-required component '${i}' is present in entity '${e}'.`);default:throw Error(`Unknown contraint: '${o.constraint}'.`)}return n}}class ti{entities=new tn;systems=new tt(this);inputs=new te;events=new tr;addBundle(t){t.init(this)}dispose(){this.inputs.dispose()}}class to{static #t={e:[h]}=Q(this,[[J,2,"update"]],[]);constructor(){h(this)}static TARGET_DT=1/60;scene=new ti;last=null;frame=null;start(){this.frame=requestAnimationFrame(this.update)}stop(){this.frame&&(cancelAnimationFrame(this.frame),this.frame=null)}update(){let t=performance.now(),e=to.TARGET_DT;for(let r of(this.last&&(e=(t-this.last)/1e3),this.last=t,this.scene.systems.getAll()))r.update(this.scene,e);this.frame=requestAnimationFrame(this.update)}}!function(t){async function e(t,e){let r=e.map(e=>createImageBitmap(t,e.x,e.y,e.width,e.height));return await Promise.all(r)}async function r(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.ORIGIN,{width:n,height:i}=t,{x:o,y:s}=r,{width:a,height:c}=e,u=Math.floor((n-o)/a),h=Math.floor((i-s)/c),l=[];for(let e=0;e<h;e++)for(let r=0;r<u;r++){let n=o+r*a,i=s+e*c;l.push(createImageBitmap(t,n,i,a,c))}return await Promise.all(l)}t.fromPredefined=e,t.fromFixedGrid=r}(l||(l={}));let ts=p.p+"static/image/cat-tilesheet.7bba9b5a.png";async function ta(t){var e;let s=await (e=ts,new Promise((t,r)=>{let n=new Image;return n.onload=()=>t(n),n.onerror=t=>r(`Failed to load image: ${t}`),n.src=e,n})),a=await l.fromPredefined(s,[new L(7,18,16,16),new L(39,18,16,16),new L(71,18,16,16),new L(103,18,16,16),new L(7,50,16,16),new L(39,50,16,16),new L(71,50,16,16),new L(103,50,16,16),new L(7,82,16,16),new L(39,82,16,16),new L(71,82,16,16),new L(103,82,16,16),new L(7,114,16,16),new L(39,114,16,16),new L(71,114,16,16),new L(103,114,16,16)]),c=await l.fromPredefined(s,[new L(7,146,16,16),new L(39,146,16,16),new L(71,146,16,16),new L(103,146,16,16),new L(135,146,16,16),new L(167,146,16,16),new L(199,146,16,16),new L(231,146,16,16)]),u=await l.fromPredefined(s,[new L(7,178,16,16),new L(39,178,16,16),new L(71,178,16,16),new L(103,178,16,16),new L(135,178,16,16),new L(167,178,16,16),new L(199,178,16,16),new L(231,178,16,16)]),h=await l.fromPredefined(s,[new L(7,274,16,16),new L(39,274,16,16),new L(71,274,16,16),new L(103,274,16,16),new L(135,274,16,16),new L(167,274,16,16)]);return t.createArchetype(R,{transform:new b(new g(400,400)),character:new v(r.GROUNDED,i.IDLE,n.EAST),controlled:new I,collidable:new E(new T(0,0,40)),drawable:new S(a[0],g.zero(),new x(64,64)),animated:new w({[o.IDLE]:new m(a,.15),[o.WALKING]:new m(c,.15),[o.RUNNING]:new m(u,.15),[o.JUMPING]:new m(h,.15)},o.WALKING)})}function tc(t){let{clientWidth:e,clientHeight:r}=t;t.width=e,t.height=r}try{(function(){let t=document.getElementById("canvas");if(!t)throw Error("Canvas element not found :-(");let e=t.getContext("2d",{alpha:!1,desynchronized:!0});if(!e)throw Error("2D canvas is not supported :-(");let r=new to,{scene:{systems:n,entities:i}}=r;n.add(new P),n.add(new G),n.add(new F),n.add(new _(e)),n.add(new $(e)),n.add(new X(e)),n.add(new Y(e)),n.add(new V(e,.2)),ta(i);for(let t=0;t<10;t++)!function(t){let e=new b(new g(1600*Math.random(),800*Math.random())),r=new y((1e3*Math.random()-500)*.2,(1e3*Math.random()-500)*.2),n=60*Math.random()+20,i=new q(n,new W(125,200,0,1)),o=new j(10,r),s=new E(new T(0,0,n));t.createArchetype(U,{transform:e,circle:i,physical:o,collidable:s})}(i);for(let t=0;t<10;t++)!function(t){let e=new b(new g(1600*Math.random(),800*Math.random())),r=new y((1e3*Math.random()-500)*.2,(1e3*Math.random()-500)*.2),n=new x(80*Math.random()+20,80*Math.random()+20),i=new B(n,new W(0,0,255,1)),o=new j(10,r),s=new E(new L(0,0,n.width,n.height));t.createArchetype(k,{transform:e,rectangle:i,physical:o,collidable:s})}(i);return window.addEventListener("visibilitychange",()=>{var t;return t=r,void(document.hidden?t.stop():t.start())}),window.addEventListener("resize",()=>tc(t)),tc(t),r})().start()}catch(t){alert(t)}})();