(()=>{"use strict";var t={4334:function(t,e,n){t.exports=n.p+"static/media/meow.c813e37b.wav"},2541:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAMAAAA8eE0hAAAAAXNSR0IArs4c6QAAAGBQTFRFAAAAIiA0RSg8Zjkxj1Y733Em2aBm7sOa+/I2meVQar4wN5RuS2kvUkskMjw5Pz90MGCCW27hY5v/X83ky9v8////m623hH6HaWpqWVZSdkKKrDIy/0BI13u6j5dKim8wPB/ruAAAACB0Uk5TAP////////////////////////////////////////+Smq12AAAAJ0lEQVQImWNgYGBkhGAgycTECMJgFgQw4mDC2DB9UBbEDAYogJgKABYWAGcD2rMGAAAAAElFTkSuQmCC"},8399:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAMAAAA8eE0hAAAAAXNSR0IArs4c6QAAAGBQTFRFAAAAIiA0RSg8Zjkxj1Y733Em2aBm7sOa+/I2meVQar4wN5RuS2kvUkskMjw5Pz90MGCCW27hY5v/X83ky9v8////m623hH6HaWpqWVZSdkKKrDIy/0BI13u6j5dKim8wPB/ruAAAACB0Uk5TAP////////////////////////////////////////+Smq12AAAALklEQVQImWNgYGBkhGAgKSPNCMIglqgMCADZjDIyWJhQtjRUH4wFMYMBCiCmAgDtawRo2j+MpwAAAABJRU5ErkJggg=="},3743:function(t,e,n){n.d(e,{Y:()=>o});var r=n(4917),i=n(3284);class s{descriptor;constructor(t){this.descriptor=t}none(t,e){return new s({...this.descriptor,[t]:{type:e,constraint:i.p.NONE}})}single(t,e){return new s({...this.descriptor,[t]:{type:e,constraint:i.p.SINGLE}})}varying(t,e){return new s({...this.descriptor,[t]:{type:e,constraint:i.p.VARYING}})}optional(t,e){return new s({...this.descriptor,[t]:{type:e,constraint:i.p.OPTIONAL}})}build(){return new o(this.descriptor)}}class o{descriptor;id;getDescriptor(){return this.descriptor}constructor(t){this.descriptor=t,this.id=r.M.fromDescriptor(t)}static builder(){return new s({})}}},3284:function(t,e,n){let r;n.d(e,{G:()=>o,p:()=>a});var i,s,o,a=((s={})[s.OPTIONAL=0]="OPTIONAL",s[s.NONE=1]="NONE",s[s.SINGLE=2]="SINGLE",s[s.VARYING=3]="VARYING",s);i=o||(o={}),r=0,i.next=function(){return r++},i.fromComponent=function(t){let e=t.constructor,n=e.id;if(void 0===n)throw Error(`Given component of type '${e.name}' does not have a component constructor.`);return n}},4917:function(t,e,n){n.d(e,{A:()=>o,M:()=>r}),n(3479);var r,i,s=n(3284);(i=r||(r={})).fromDescriptor=function(t){return Object.values(t).reduce((t,e)=>i.addConstraint(t,e.type.id,e.constraint),0n)},i.addConstraint=function(t,e,n){return t|BigInt(n)<<2n*BigInt(e)},i.getConstraint=function(t,e){return Number(t>>2n*BigInt(e)&3n)},i.matches=function(t,e){let n=0;for(;0n!==t;){let r=Number(3n&t);if(r===s.p.NONE&&e.includes(n)||r===s.p.SINGLE&&!e.includes(n))return!1;t>>=2n,n++}return!0};class o{descriptor;static ALL=new o({});id;getDescriptor(){return this.descriptor}constructor(t){this.descriptor=t,this.id=r.fromDescriptor(t)}static create(){return new o({})}static from(t){return new o(Object.assign({},t.getDescriptor()))}static pickFrom(t,...e){let n=t.getDescriptor(),r={};for(let t of e)r[t]=n[t];return new o(r)}static omitFrom(t,...e){let n=Object.assign({},t.getDescriptor());for(let t of e)delete n[t];return new o(n)}none(t,e){return this.descriptor[t]={type:e,constraint:s.p.NONE},this.id=r.addConstraint(this.id,e.id,s.p.NONE),this}single(t,e){return this.descriptor[t]={type:e,constraint:s.p.SINGLE},this.id=r.addConstraint(this.id,e.id,s.p.SINGLE),this}varying(t,e){return this.descriptor[t]={type:e,constraint:s.p.VARYING},this.id=r.addConstraint(this.id,e.id,s.p.VARYING),this}optional(t,e){return this.descriptor[t]={type:e,constraint:s.p.OPTIONAL},this.id=r.addConstraint(this.id,e.id,s.p.OPTIONAL),this}}},5612:function(t,e,n){let r;function i(t,e,n,r){function s(t,e){return function(n){(function(t,e){if(t.v)throw Error("attempted to call "+e+" after decoration was finished")})(e,"addInitializer"),a(n,"An initializer"),t.push(n)}}function o(t,e,n,r,i,o,a,u,c){switch(i){case 1:h="accessor";break;case 2:h="method";break;case 3:h="getter";break;case 4:h="setter";break;default:h="field"}var h,l,d,f={kind:h,name:a?"#"+e:e,static:o,private:a,metadata:u},y={v:!1};f.addInitializer=s(r,y),0===i?a?(l=n.get,d=n.set):(l=function(){return this[e]},d=function(t){this[e]=t}):2===i?l=function(){return n.value}:((1===i||3===i)&&(l=function(){return n.get.call(this)}),(1===i||4===i)&&(d=function(t){n.set.call(this,t)})),f.access=l&&d?{get:l,set:d}:l?{get:l}:{set:d};try{return t(c,f)}finally{y.v=!0}}function a(t,e){if("function"!=typeof t)throw TypeError(e+" must be a function")}function u(t,e){var n=typeof e;if(1===t){if("object"!==n||null===e)throw TypeError("accessor decorators must return an object with get, set, or init properties or void 0");void 0!==e.get&&a(e.get,"accessor.get"),void 0!==e.set&&a(e.set,"accessor.set"),void 0!==e.init&&a(e.init,"accessor.init")}else if("function"!==n)throw TypeError((0===t?"field":10===t?"class":"method")+" decorators must return a function or void 0")}function c(t,e){e&&t.push(function(t){for(var n=0;n<e.length;n++)e[n].call(t);return t})}function h(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}return(i=function(t,e,n,r){if(void 0!==r)var i=r[Symbol.metadata||Symbol.for("Symbol.metadata")];var a=Object.create(void 0===i?null:i),l=function(t,e,n){for(var r=[],i=new Map,s=new Map,a=0;a<e.length;a++){var h,l,d,f,y=e[a];if(Array.isArray(y)){var p=y[1],g=y[2],m=y.length>3,x=p>=5;if(x?(d=t,p-=5,f=l=l||[]):(d=t.prototype,f=h=h||[]),0!==p&&!m){var v=x?s:i,w=v.get(g)||0;if(!0===w||3===w&&4!==p||4===w&&3!==p)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+g);!w&&p>2?v.set(g,p):v.set(g,!0)}!function(t,e,n,r,i,s,a,c,h){var l,d,f,y,p,g,m,x=n[0];if(a?l=0===i||1===i?{get:n[3],set:n[4]}:3===i?{get:n[3]}:4===i?{set:n[3]}:{value:n[3]}:0!==i&&(l=Object.getOwnPropertyDescriptor(e,r)),1===i?f={get:l.get,set:l.set}:2===i?f=l.value:3===i?f=l.get:4===i&&(f=l.set),"function"==typeof x)void 0!==(y=o(x,r,l,c,i,s,a,h,f))&&(u(i,y),0===i?d=y:1===i?(d=y.init,f={get:p=y.get||f.get,set:y.set||f.set}):f=y);else for(var v=x.length-1;v>=0;v--)void 0!==(y=o(x[v],r,l,c,i,s,a,h,f))&&(u(i,y),0===i?m=y:1===i?(m=y.init,f={get:p=y.get||f.get,set:y.set||f.set}):f=y,void 0!==m&&(void 0===d?d=m:"function"==typeof d?d=[d,m]:d.push(m)));if(0===i||1===i){if(void 0===d)d=function(t,e){return e};else if("function"!=typeof d){var w=d;d=function(t,e){for(var n=e,r=0;r<w.length;r++)n=w[r].call(t,n);return n}}else{var S=d;d=function(t,e){return S.call(t,e)}}t.push(d)}0!==i&&(1===i?(l.get=f.get,l.set=f.set):2===i?l.value=f:3===i?l.get=f:4===i&&(l.set=f),a?1===i?(t.push(function(t,e){return f.get.call(t,e)}),t.push(function(t,e){return f.set.call(t,e)})):2===i?t.push(f):t.push(function(t,e){return f.call(t,e)}):Object.defineProperty(e,r,l))}(r,d,y,g,p,x,m,f,n)}}return c(r,h),c(r,l),r}(t,e,a);return n.length||h(t,a),{e:l,get c(){return function(t,e,n){if(e.length>0){for(var r=[],i=t,o=t.name,a=e.length-1;a>=0;a--){var c={v:!1};try{var l=e[a](i,{kind:"class",name:o,addInitializer:s(r,c),metadata:n})}finally{c.v=!0}void 0!==l&&(u(10,l),i=l)}return[h(i,n),function(){for(var t=0;t<r.length;t++)r[t].call(i)}]}}(t,n,a)}}})(t,e,n,r)}function s(t,e){let n=e.name;if(e.private)throw Error(`'bind@' cannot decorate private properties like ${n}.`);e.addInitializer(function(){this[n]=this[n].bind(this)})}n.d(e,{l:()=>b}),n(4912),n(78),n(1416),n(9975),n(1998),n(8023),n(7527),n(4749),n(7881),n(9365),n(2592),n(1819),n(5614),n(7628);class o{resources=new Map;get(t){return this.resources.get(t)??null}getOrSet(t,e){let n=this.get(t);return null===n&&(n=e(),this.resources.set(t,n)),n}set(t){let e=t.constructor;this.resources.set(e,t)}setIfNotPresent(t){let e=t.constructor;this.getOrSet(e,()=>t)}delete(t){return this.resources.delete(t)}clear(){this.resources.clear()}}var a,u,c,h,l,d=n(5174);class f{static{({e:[u]}=i(this,[[s,2,"handleMouseMove"],[s,2,"handleMouseDown"],[s,2,"handleMouseUp"],[s,2,"handleKeyDown"],[s,2,"handleKeyUp"]],[]))}mousePosition;pressedKeys;constructor(){u(this),this.mousePosition=d.S.zero(),this.pressedKeys=new Map,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}getMousePosition(){return this.mousePosition}isKeyPressed(t){return this.pressedKeys.get(t)??!1}dispose(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)}handleMouseMove(t){this.mousePosition.x=t.x,this.mousePosition.y=t.y}handleMouseDown(t){1===t.buttons?this.pressedKeys.set("M1",!0):this.pressedKeys.set("M2",!0)}handleMouseUp(t){1===t.buttons?this.pressedKeys.set("M1",!1):this.pressedKeys.set("M2",!1)}handleKeyDown(t){this.pressedKeys.set(t.key,!0)}handleKeyUp(t){this.pressedKeys.set(t.key,!1)}}n(9929);class y{events=new Map;register(t,e){let n=this.events.get(t);return n?n.push(e):this.events.set(t,[e]),{unregister:()=>this.unregister(t,e)}}once(t,e){let n=this.events.get(t),r=n=>{e(n),this.unregister(t,r)};return n?n.push(r):this.events.set(t,[r]),{unregister:()=>this.unregister(t,r)}}unregister(t,e){let n=this.events.get(t);n&&this.events.set(t,n.filter(t=>t!==e))}emit(t){let e=this.events.get(t.constructor);if(e)for(let n of e)n(t)}}n(5646),c=Symbol.iterator;class p{data=[];get length(){return this.data.length}push(t,e=Number.MAX_VALUE){if(0===this.data.length||e===Number.MAX_VALUE)return void this.data.push([e,t]);for(let n=0;n<this.data.length;n++){if(n===this.data.length-1){this.data.push([e,t]);break}if(this.data[n][0]>e){this.data.splice(n,0,[e,t]);break}}}remove(t){let e=this.data.findIndex(([e,n])=>n===t);e>=0&&this.data.splice(e,1)}peek(){return this.data[0]?.[1]??null}pop(){return this.data.pop()?.[1]??null}isEmpty(){return 0===this.data.length}forEach(t,e){this.data.forEach(([e,n],r)=>t(n,r,this),e)}*[c](){for(let[t,e]of this.data)yield e}}class g{scene;systems;constructor(t){this.scene=t,this.systems=new p}getAll(){return this.systems}add(t,e){this.systems.push(t,e),t.init?.(this.scene)}remove(t){this.systems.remove(t)}}n(8558),n(7980),n(6236),n(2833),n(7906),n(2114),n(2613),n(874),n(2240),n(8675),n(6857),n(8137),n(6501),n(6834),n(1549),n(3485),n(793),n(9560),n(3479);var m=n(4917);a=h||(h={}),r=0,a.next=function(){return r++};var x=n(3284);class v{componentsByEntity=new Map;entitiesByComponent=new Map;cachedQueries=new Map;get entityCount(){return this.componentsByEntity.size}createEntity(t){let e=h.next();if(this.componentsByEntity.set(e,new Map),t)for(let n of t)this.addComponent(e,n);return e}createArchetype(t,e){let n=this.createEntity(Object.values(e)),r=this.cachedQueries.get(t.id);return r?r.add(n):this.cachedQueries.set(t.id,new Set([n])),n}deleteEntity(t){for(let e of(this.componentsByEntity.delete(t),this.entitiesByComponent.values()))e.delete(t);for(let e of this.cachedQueries.values())e.delete(t)}addComponent(t,e){let n=x.G.fromComponent(e),r=this.entitiesByComponent.get(n);r?r.add(t):this.entitiesByComponent.set(n,new Set([t]));let i=this.componentsByEntity.get(t);if(!i)return;let s=i.get(n);s?s.push(e):i.set(n,[e]);let o=Array.from(i.keys());for(let[e,r]of this.cachedQueries.entries())r.has(t)?m.M.getConstraint(e,n)===x.p.NONE&&r.delete(t):m.M.matches(e,o)&&r.add(t)}removeComponent(t,e){let n=x.G.fromComponent(e);this.entitiesByComponent.get(n)?.delete(t);let r=this.componentsByEntity.get(t);r?.delete(n);let i=Array.from(r?.keys()??[]);for(let[e,r]of this.cachedQueries.entries())r.has(t)?m.M.getConstraint(e,n)===x.p.SINGLE&&r.delete(t):m.M.matches(e,i)&&r.add(t)}getFirstComponent(t,e){return this.componentsByEntity.get(t)?.get(e.id)?.[0]??null}getAllComponents(t,e){let n,r=this.componentsByEntity.get(t);return r?e?r.get(e.id)??[]:Array.from(r.values()??[]).flat():[]}getAllEntities(){return Array.from(this.componentsByEntity.keys())}queryFirstEntity(t){let e,n=this.cachedQueries.get(t.id);if(n)e=n.values().find(()=>!0)??null;else{let n=this.getAllMatchingEntities(t.id);this.cachedQueries.set(t.id,new Set(n)),e=n[0]??null}return null===e?null:this.constructEntity(e,t.getDescriptor())}queryAllEntities(t){let e,n=this.cachedQueries.get(t.id);return n?e=Array.from(n.values()):(e=this.getAllMatchingEntities(t.id),this.cachedQueries.set(t.id,new Set(e))),e.map(e=>this.constructEntity(e,t.getDescriptor()))}getAllMatchingEntities(t){return this.componentsByEntity.entries().reduce((e,[n,r])=>{let i=Array.from(r.keys());return m.M.matches(t,i)&&e.push(n),e},[])}constructEntity(t,e){let n={id:t};for(let[r,i]of Object.entries(e))switch(i.constraint){case x.p.VARYING:n[r]=this.getAllComponents(t,i.type);break;case x.p.OPTIONAL:n[r]=this.getFirstComponent(t,i.type);break;case x.p.SINGLE:if(n[r]=this.getFirstComponent(t,i.type),!n[r])throw Error(`Mandatory component '${r}' is missing in entity '${t}'.`);break;case x.p.NONE:throw Error(`Non-required component '${r}' is present in entity '${t}'.`);default:throw Error(`Unknown contraint: '${i.constraint}'.`)}return n}}class w{ctx;sounds=new Map;constructor(){this.ctx=new AudioContext({latencyHint:"interactive"})}play(t,e){let{ctx:n}=this,r=this.sounds.get(t);if(!r){let e=n.createMediaElementSource(t);e.connect(n.destination),r={playing:!1,node:e},this.sounds.set(t,r)}r.playing||(t.addEventListener("ended",()=>{r.playing=!1},!1),t.play())}pause(t){t.pause()}stop(t){let e=this.sounds.get(t);e&&(t.pause(),this.sounds.delete(t),e.node.disconnect())}}class S{entities=new v;systems=new g(this);resources=new o;inputs=new f;audio=new w;events=new y;addBundle(t){t.init(this)}dispose(){this.inputs.dispose()}}class M{decay;measurement;constructor(t=1){this.decay=t,this.measurement=0}get currentFps(){return this.measurement?1/this.measurement:0}tick(t){this.measurement?this.measurement=this.measurement*(1-this.decay)+t*this.decay:this.measurement=t}reset(){this.measurement=0}}class b{static{({e:[l]}=i(this,[[s,2,"update"]],[]))}static TARGET_DT=1/60;_scene=(l(this),new S);fpsCounter=new M(.5);running=!1;lastTimestamp=null;frame=null;get isRunning(){return this.running}get fps(){return this.fpsCounter.currentFps}get scene(){return this._scene}changeScene(t){this._scene.dispose(),this._scene=t}start(){this.running||(this.running=!0,this.frame=requestAnimationFrame(this.update))}stop(){this.running&&(this.running=!1,this.lastTimestamp=null,this.frame&&(cancelAnimationFrame(this.frame),this.frame=null),this.fpsCounter.reset())}update(){let t,e=performance.now();for(let n of(t=this.lastTimestamp?(e-this.lastTimestamp)/1e3:b.TARGET_DT,this.lastTimestamp=e,this.fpsCounter.tick(t),this._scene.systems.getAll()))n.update(this._scene,t);this.frame=requestAnimationFrame(this.update)}}},1578:function(t,e,n){n.d(e,{V:()=>r}),n(9560);var r,i,s=n(9347),o=n(5174);(i=r||(r={})).fromPredefined=async function(t,e){let n=e.map(e=>createImageBitmap(t,e.x,e.y,e.width,e.height));return await Promise.all(n)},i.fromFixedGrid=async function(t,e){let{width:n,height:r}=t,{x:i,y:a}=e.gridOffset??o.S.ORIGIN,{width:u,height:c}=e.gridSize,{x:h,y:l}=e.gridSpacing??o.S.ORIGIN,d=Math.floor((n-i+h)/(u+h)),f=Math.floor((r-a+l)/(c+l)),y=[];for(let e=0;e<f;e++)for(let n=0;n<d;n++){let r=i+n*(u+h),s=a+e*(c+l);y.push(createImageBitmap(t,r,s,u,c))}let p=await Promise.all(y);return s.t.chunk(p,f)}},8178:function(t,e,n){n.d(e,{C:()=>a});var r,i=n(2671),s=n(1700),o=n(5174);class a{x;y;radius;constructor(t,e,n){this.x=t,this.y=e,this.radius=n}get center(){return new o.S(this.x,this.y)}static from(t){return new a(t.x,t.y,t.radius)}getClosestPoint(t){return a.getClosestPoint(this,t)}containsPoint(t){return a.containsPoint(this,t)}containsRect(t){return a.containsRect(this,t)}containsCircle(t){return a.containsCircle(this,t)}containsLine(t){return a.containsLine(this,t)}overlapsRect(t){return a.overlapsRect(this,t)}overlapsCircle(t){return a.overlapsCircle(this,t)}overlapsLine(t){return a.overlapsLine(this,t)}intersectRect(t){return a.intersectRect(this,t)}intersectCircle(t){return a.intersectCircle(this,t)}getRectIntersectionPoints(t){return a.getRectIntersectionPoints(this,t)}getCircleIntersectionPoints(t){return a.getCircleIntersectionPoints(this,t)}getLineIntersectionPoints(t){return a.getLineIntersectionPoints(this,t)}getBoundingRect(){return a.getBoundingRect(this)}equals(t,e=Number.EPSILON){return a.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}clone(){return new a(this.x,this.y,this.radius)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1),n=this.radius.toFixed(1);return`Circle(x:${t}, y:${e}, r:${n})`}}(r=a||(a={})).getClosestPoint=function(t,e){let n=i.S.direction(e,t).normalize().multiplyScalar(t.radius);return o.S.from(t).add(n)},r.containsPoint=function(t,e){return o.S.distanceBetweenSquared(t,e)<=Math.pow(t.radius,2)},r.containsRect=function(t,e){return Math.pow(Math.max(t.x-e.x,e.x+e.width-t.x),2)+Math.pow(Math.max(t.y-e.y,e.y+e.height-t.y),2)<=Math.pow(t.radius,2)},r.containsCircle=function(t,e){let n=o.S.distanceBetweenSquared(t,e);return n+Math.pow(e.radius,2)<=Math.pow(t.radius,2)},r.containsLine=function(t,e){return r.containsPoint(t,e.start)&&r.containsPoint(t,e.end)},r.overlapsRect=function(t,e){return s.U.overlapsCircle(e,t)},r.overlapsCircle=function(t,e){return o.S.distanceBetweenSquared(t,e)<=Math.pow(t.radius+e.radius,2)},r.overlapsLine=function(t,e){let n=e.end.x-e.start.x,r=e.end.y-e.start.y,i=e.start.x-t.x,s=e.start.y-t.y,o=2*(i*n+s*r);return o*o-4*(n*n+r*r)*(i*i+s*s-t.radius*t.radius)>=0},r.intersectRect=function(t,e){return s.U.intersectRect(e,r.getBoundingRect(t))},r.intersectCircle=function(t,e){return r.overlapsCircle(t,e)?s.U.intersectRect(r.getBoundingRect(t),r.getBoundingRect(e)):r.containsCircle(t,e)?r.getBoundingRect(e):r.containsCircle(e,t)?r.getBoundingRect(t):null},r.getRectIntersectionPoints=function(t,e){return s.U.getCircleIntersectionPoints(e,t)},r.getCircleIntersectionPoints=function(t,e){let n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));if(i>t.radius+e.radius||i<Math.abs(t.radius-e.radius))return[];let s=(Math.pow(t.radius,2)-Math.pow(e.radius,2)+Math.pow(i,2))/(2*i),a={x:t.x+n*s/i,y:t.y+r*s/i},u=Math.sqrt(Math.pow(t.radius,2)-Math.pow(s,2)),c={x:-(u/i*r),y:u/i*n};return[o.S.from(a).add(c),o.S.from(a).subtract(c)]},r.getLineIntersectionPoints=function(t,e){let n=e.end.x-e.start.x,r=e.end.y-e.start.y,i=e.start.x-t.x,s=e.start.y-t.y,a=n*n+r*r,u=2*(i*n+s*r),c=u*u-4*a*(i*i+s*s-t.radius*t.radius);if(c<0)return[];let h=(-u+Math.sqrt(c))/(2*a),l=(-u-Math.sqrt(c))/(2*a),d=[];return h>=0&&h<=1&&d.push(new o.S(e.start.x+h*n,e.start.y+h*r)),l>=0&&l<=1&&d.push(new o.S(e.start.x+l*n,e.start.y+l*r)),d},r.getBoundingRect=function(t){let e=2*t.radius;return new s.U(t.x-t.radius,t.y-t.radius,e,e)},r.equals=function(t,e,n=Number.EPSILON){return Math.abs(t.x-e.x)<n&&Math.abs(t.y-e.y)<n&&Math.abs(t.radius-e.radius)<n}},8182:function(t,e,n){n.d(e,{T:()=>r});class r{width;height;constructor(t,e){this.width=t,this.height=e}static from(t){return new r(t.width,t.height)}static isZero(t,e=Number.EPSILON){return t.width<=e&&t.height<=e}static isNan(t){return isNaN(t.width)||isNaN(t.height)}static equals(t,e,n=Number.EPSILON){return Math.abs(t.width-e.width)<=n&&Math.abs(t.height-e.height)<=n}static copy(t,e){t.width=e.width,t.height=e.height}static clone(t){return{width:t.width,height:t.height}}static toString(t){let e=t.width.toFixed(1),n=t.height.toFixed(1);return`Dim2(w:${e}, h:${n})`}isZero(t=Number.EPSILON){return r.isZero(this,t)}isNan(){return r.isNan(this)}equals(t,e=Number.EPSILON){return r.equals(this,t,e)}copy(t){return r.copy(this,t),this}clone(){return new r(this.width,this.height)}toString(){return r.toString(this)}}},7915:function(t,e,n){n.d(e,{h:()=>a});var r=n(9347);class i{_data;constructor(t){this._data=t}get data(){return this._data}get determinant(){return i.determinant(this._data)}getRow(t){let e=2*t;return[this._data[e],this._data[e+1]]}getColumn(t){return[this._data[t],this._data[t+2]]}equals(t){return i.equals(this._data,t)}clone(){return new i(this._data.slice())}toString(){let[t,e,n,r]=this._data;return`Mat2x2(
      ${t}, ${e},
      ${n}, ${r},
    )`}static zero(){return new i([0,0,0,0])}static identity(){return new i([1,0,0,1])}static rotation(t){let e=Math.cos(t),n=Math.sin(t);return new i([e,-n,n,e])}static scaling({x:t,y:e}){return new i([t,0,0,e])}static from(t){return new i(t.slice())}setRow(t,e){let n=2*t;this._data[n]=e[0],this._data[n+1]=e[1]}setColumn(t,e){this._data[t]=e[0],this._data[t+2]=e[1]}transpose(){let t=this._data[1];return this._data[1]=this._data[2],this._data[2]=t,this}add(t){return this._data[0]+=t[0],this._data[1]+=t[1],this._data[2]+=t[2],this._data[3]+=t[3],this}subtract(t){return this._data[0]-=t[0],this._data[1]-=t[1],this._data[2]-=t[2],this._data[3]-=t[3],this}invert(){let t=this.determinant;if(0===t)return null;t=1/t;let[e,n,r,i]=this._data;return this._data[0]=i*t,this._data[1]=-n*t,this._data[2]=-r*t,this._data[3]=e*t,this}multiply(t){let[e,n,r,i]=this._data,[s,o,a,u]=t;return this._data[0]=e*s+n*a,this._data[1]=e*o+n*u,this._data[2]=r*s+i*a,this._data[3]=r*o+i*u,this}multiplyScalar(t){let[e,n,r,i]=this._data;return this._data[0]=e*t,this._data[1]=n*t,this._data[2]=r*t,this._data[3]=i*t,this}rotate(t){let[e,n,r,i]=this._data,s=Math.sin(t),o=Math.cos(t);return this._data[0]=e*o+r*s,this._data[1]=n*o+i*s,this._data[2]=-(e*s)+r*o,this._data[3]=-(n*s)+i*o,this}scale(t){return this._data[0]*=t.x,this._data[1]*=t.x,this._data[2]*=t.y,this._data[3]*=t.y,this}copy(t){return this._data=t.slice(),this}}var s=i||(i={});function o(t){let[e,n,r,i]=t;return e*i-n*r}s.determinant=o,s.transpose=function(t){let[e,n,r,i]=t;return[e,r,n,i]},s.adjoint=function(t){let[e,n,r,i]=t;return[i,-n,-r,e]},s.inverse=function(t){let e=o(t);if(0===e)return null;let[n,r,i,s]=t;return[s*(e=1/e),-r*e,-i*e,n*e]},s.add=function(t,e){let[n,r,i,s]=t,[o,a,u,c]=e;return[n+o,r+a,i+u,s+c]},s.subtract=function(t,e){let[n,r,i,s]=t,[o,a,u,c]=e;return[n-o,r-a,i-u,s-c]},s.multiply=function(t,e){let[n,r,i,s]=t,[o,a,u,c]=e;return[n*o+r*u,n*a+r*c,i*o+s*u,i*a+s*c]},s.multiplyScalar=function(t,e){let[n,r,i,s]=t;return[n*e,r*e,i*e,s*e]},s.rotate=function(t,e){let[n,r,i,s]=t,o=Math.sin(e),a=Math.cos(e);return[n*a+r*o,-(n*o)+r*a,i*a+s*o,-(i*o)+s*a]},s.scale=function(t,{x:e,y:n}){let[r,i,s,o]=t;return[r*e,i*n,s*e,o*n]},s.equals=function(t,e){return r.t.equals(t,e)};class a{_data;constructor(t){this._data=t}get data(){return this._data}get determinant(){return a.determinant(this._data)}getRow(t){let e=3*t;return[this._data[e],this._data[e+1],this._data[e+2]]}getColumn(t){return[this._data[t],this._data[t+3],this._data[t+6]]}equals(t){return a.equals(this._data,t)}clone(){return new a(this._data.slice())}toString(){let t=this._data;return`Mat3x3(
      ${t[0]}, ${t[1]}, ${t[2]},
      ${t[3]}, ${t[4]}, ${t[5]},
      ${t[6]}, ${t[7]}, ${t[8]},
    )`}static identity(){return new a([1,0,0,0,1,0,0,0,1])}static translation({x:t,y:e}){return new a([1,0,0,0,1,0,t,e,1])}static rotation(t){let e=Math.cos(t),n=Math.sin(t);return new a([e,n,0,-n,e,0,0,0,1])}static scaling({x:t,y:e}){return new a([t,0,0,0,e,0,0,0,1])}static projection({width:t,height:e}){return new a([2/t,0,0,0,-2/e,0,-1,1,1])}static shearing({x:t,y:e}){return new a([1,e,0,t,1,0,0,0,1])}static reflection({h:t,v:e}){return new a([t?-1:1,0,0,0,e?-1:1,0,0,0,1])}static orthographic(t,e,n,r){let i=e-t,s=r-n;return new a([2/i,0,0,0,-2/s,0,-(e+t)/i,-(r+n)/s,1])}static from(t){return new a(t.slice())}setRow(t,e){let n=3*t;this._data[n]=e[0],this._data[n+1]=e[1],this._data[n+2]=e[2]}setColumn(t,e){this._data[t]=e[0],this._data[t+3]=e[1],this._data[t+6]=e[2]}transpose(){let t=this._data[1],e=this._data[2],n=this._data[5];return this._data[1]=this._data[3],this._data[2]=this._data[6],this._data[3]=t,this._data[5]=this._data[7],this._data[6]=e,this._data[7]=n,this}invert(){let[t,e,n,r,i,s,o,a,u]=this._data,c=t*(u*i-s*a)+e*(-u*r+s*o)+n*(a*r-i*o);if(!c)return null;let h=1/c;return this._data[0]=(u*i-s*a)*h,this._data[1]=(-u*e+n*a)*h,this._data[2]=(s*e-n*i)*h,this._data[3]=(-u*r+s*o)*h,this._data[4]=(u*t-n*o)*h,this._data[5]=(-s*t+n*r)*h,this._data[6]=(a*r-i*o)*h,this._data[7]=(-a*t+e*o)*h,this._data[8]=(i*t-e*r)*h,this}add(t){return this._data[0]+=t[0],this._data[1]+=t[1],this._data[2]+=t[2],this._data[3]+=t[3],this._data[4]+=t[4],this._data[5]+=t[5],this._data[6]+=t[6],this._data[7]+=t[7],this._data[8]+=t[8],this}subtract(t){return this._data[0]-=t[0],this._data[1]-=t[1],this._data[2]-=t[2],this._data[3]-=t[3],this._data[4]-=t[4],this._data[5]-=t[5],this._data[6]-=t[6],this._data[7]-=t[7],this._data[8]-=t[8],this}multiply(t){let[e,n,r,i,s,o,a,u,c]=this._data,[h,l,d,f,y,p,g,m,x]=t;return this._data[0]=h*e+l*i+d*a,this._data[1]=h*n+l*s+d*u,this._data[2]=h*r+l*o+d*c,this._data[3]=f*e+y*i+p*a,this._data[4]=f*n+y*s+p*u,this._data[5]=f*r+y*o+p*c,this._data[6]=g*e+m*i+x*a,this._data[7]=g*n+m*s+x*u,this._data[8]=g*r+m*o+x*c,this}multiplyScalar(t){return this._data[0]*=t,this._data[1]*=t,this._data[2]*=t,this._data[3]*=t,this._data[4]*=t,this._data[5]*=t,this._data[6]*=t,this._data[7]*=t,this._data[8]*=t,this}translate(t){let[e,n,r,i,s,o,a,u,c]=this._data;return this._data[6]=t.x*e+t.y*i+a,this._data[7]=t.x*n+t.y*s+u,this._data[8]=t.x*r+t.y*o+c,this}rotate(t){let[e,n,r,i,s,o]=this._data,a=Math.sin(t),u=Math.cos(t);return this._data[0]=u*e+a*i,this._data[1]=u*n+a*s,this._data[2]=u*r+a*o,this._data[3]=u*i-a*e,this._data[4]=u*s-a*n,this._data[5]=u*o-a*r,this}scale(t){return this._data[0]*=t.x,this._data[1]*=t.x,this._data[2]*=t.x,this._data[3]*=t.y,this._data[4]*=t.y,this._data[5]*=t.y,this}copy(t){return this._data=t.slice(),this}}!function(t){function e(t,e,n){return[t[(e+1)%3*3+(n+1)%3],t[(e+1)%3*3+(n+2)%3],t[(e+2)%3*3+(n+1)%3],t[(e+2)%3*3+(n+2)%3]]}function n(t){return Array.from({length:9},(n,r)=>{let s=e(t,Math.floor(r/3),r%3);return(r%2==0?1:-1)*i.determinant(s)})}function s(t){return[t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]]}t.minor=e,t.determinant=function(t){let[e,n,r,i,s,o,a,u,c]=t;return e*(c*s-o*u)+n*(-c*i+o*a)+r*(u*i-s*a)},t.cofactor=n,t.adjugate=function(t){return s(n(t))},t.transpose=s,t.inverse=function(t){let[e,n,r,i,s,o,a,u,c]=t,h=e*(c*s-o*u)+n*(-c*i+o*a)+r*(u*i-s*a);if(!h)return null;let l=1/h;return[(c*s-o*u)*l,(-c*n+r*u)*l,(o*n-r*s)*l,(-c*i+o*a)*l,(c*e-r*a)*l,(-o*e+r*i)*l,(u*i-s*a)*l,(-u*e+n*a)*l,(s*e-n*i)*l]},t.add=function(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3],t[4]+e[4],t[5]+e[5],t[6]+e[6],t[7]+e[7],t[8]+e[8]]},t.subtract=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3],t[4]-e[4],t[5]-e[5],t[6]-e[6],t[7]-e[7],t[8]-e[8]]},t.multiply=function(t,e){let[n,r,i,s,o,a,u,c,h]=t,[l,d,f,y,p,g,m,x,v]=e;return[l*n+d*s+f*u,l*r+d*o+f*c,l*i+d*a+f*h,y*n+p*s+g*u,y*r+p*o+g*c,y*i+p*a+g*h,m*n+x*s+v*u,m*r+x*o+v*c,m*i+x*a+v*h]},t.multiplyScalar=function(t,e){return[t[0]*e,t[1]*e,t[2]*e,t[3]*e,t[4]*e,t[5]*e,t[6]*e,t[7]*e,t[8]*e]},t.translate=function(t,e){let[n,r,i,s,o,a,u,c,h]=t,{x:l,y:d}=e;return[n,r,i,s,o,a,l*n+d*s+u,l*r+d*o+c,l*i+d*a+h]},t.rotate=function(t,e){let[n,r,i,s,o,a,u,c,h]=t,l=Math.sin(e),d=Math.cos(e);return[d*n+l*s,d*r+l*o,d*i+l*a,d*s-l*n,d*o-l*r,d*a-l*i,u,c,h]},t.scale=function(t,e){let{x:n,y:r}=e;return[n*t[0],n*t[1],n*t[2],r*t[3],r*t[4],r*t[5],t[6],t[7],t[8]]},t.shear=function(t,e){let[n,r,i,s,o,a,u,c,h]=t,{x:l,y:d}=e;return[n+l*s,r+l*o,i+l*a,d*n+s,d*r+o,d*i+a,u,c,h]},t.equals=function(t,e){return r.t.equals(t,e)}}(a||(a={}))},5174:function(t,e,n){n.d(e,{S:()=>s});var r,i=n(2671);class s{x;y;static ORIGIN=s.zero();constructor(t,e){this.x=t,this.y=e}static zero(){return new s(0,0)}static midpoint(t,e){return new s((t.x+e.x)/2,(t.y+e.y)/2)}static from(t){return new s(t.x??0,t.y??0)}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}subtractScalar(t){return this.x-=t,this.y-=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.x/=t,this.y/=t,this}transformMat2(t){let{x:e,y:n}=this;return this.x=t[0]*e+t[2]*n,this.y=t[1]*e+t[3]*n,this}transformMat3(t){let{x:e,y:n}=this;return this.x=t[0]*e+t[3]*n+t[6],this.y=t[1]*e+t[4]*n+t[7],this}directionTo(t){return i.S.direction(this,t)}distanceTo(t){return s.distanceBetween(this,t)}distanceToSquared(t){return s.distanceBetweenSquared(this,t)}isZero(t=Number.EPSILON){return s.isZero(this,t)}isNan(){return s.isNan(this)}equals(t,e=Number.EPSILON){return s.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this}clone(){return new s(this.x,this.y)}toVec(){return i.S.from(this)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1);return`Pnt2(x:${t}, y:${e})`}}(r=s||(s={})).add=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},r.addScalar=function(t,e){return{x:t.x+e,y:t.y+e}},r.subtract=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},r.subtractScalar=function(t,e){return{x:t.x-e,y:t.y-e}},r.multiply=function(t,e){return{x:t.x*e.x,y:t.y*e.y}},r.multiplyScalar=function(t,e){return{x:t.x*e,y:t.y*e}},r.divide=function(t,e){return{x:t.x/e.x,y:t.y/e.y}},r.divideScalar=function(t,e){return{x:t.x/e,y:t.y/e}},r.transformMat2=function(t,e){return{x:e[0]*t.x+e[2]*t.y,y:e[1]*t.x+e[3]*t.y}},r.transformMat3=function(t,e){return{x:e[0]*t.x+e[3]*t.y+e[6],y:e[1]*t.x+e[4]*t.y+e[7]}},r.distanceBetween=function(t,e){return Math.sqrt(r.distanceBetweenSquared(t,e))},r.distanceBetweenSquared=function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)},r.isZero=function(t,e=Number.EPSILON){return Math.abs(t.x)<e&&Math.abs(t.y)<e},r.isNan=function(t){return isNaN(t.x)||isNaN(t.y)},r.equals=function(t,e,n=Number.EPSILON){return Math.abs(t.x-e.x)<n&&Math.abs(t.y-e.y)<n}},1700:function(t,e,n){n.d(e,{U:()=>h}),n(3293);var r,i,s=n(9333),o=n(5174),a=n(2671),u=n(8178);class c{start;end;constructor(t,e){this.start=t,this.end=e}static from(t){return new c(o.S.from(t.start),o.S.from(t.end))}getClosestPoint(t){return c.getClosestPoint(this,t)}overlapsRect(t){return c.overlapsRect(this,t)}overlapsCircle(t){return c.overlapsCircle(this,t)}overlapsLine(t){return c.overlapsLine(this,t)}getRectIntersectionPoints(t){return c.getRectIntersectionPoints(this,t)}getCircleIntersectionPoints(t){return c.getCircleIntersectionPoints(this,t)}getLineIntersectionPoints(t){return c.getLineIntersectionPoints(this,t)}getBoundingRect(){return c.getBoundingRect(this)}equals(t,e=Number.EPSILON){return c.equals(this,t,e)}copy(t){return this.start.x=t.start.x,this.start.y=t.start.y,this.end.x=t.end.x,this.end.y=t.end.y,this}clone(){return new c(this.start,this.end)}toString(){let t=this.start.x.toFixed(1),e=this.start.y.toFixed(1),n=this.end.x.toFixed(1),r=this.end.y.toFixed(1);return`Line2(sx:${t}, sy:${e}, ex:${n}, ey:${r})`}}(r=c||(c={})).getClosestPoint=function(t,e){let n=a.S.direction(t.start,t.end),r=a.S.direction(t.start,e),i=n.magnitudeSquared;if(0===i)return o.S.from(t.start);let u=a.S.dot(r,n)/i,c=(0,s.uZ)(u,{min:0,max:1});return new o.S(t.start.x+c*n.x,t.start.y+c*n.y)},r.overlapsRect=function(t,e){return h.overlapsLine(e,t)},r.overlapsCircle=function(t,e){return u.C.overlapsLine(e,t)},r.overlapsLine=function(t,e){let n=(e.end.y-e.start.y)*(t.end.x-t.start.x)-(e.end.x-e.start.x)*(t.end.y-t.start.y);if(0===n)return!1;let r=((e.end.x-e.start.x)*(t.start.y-e.start.y)-(e.end.y-e.start.y)*(t.start.x-e.start.x))/n,i=((t.end.x-t.start.x)*(t.start.y-e.start.y)-(t.end.y-t.start.y)*(t.start.x-e.start.x))/n;return!(r<0||r>1||i<0||i>1)},r.getRectIntersectionPoints=function(t,e){return h.getLineIntersectionPoints(e,t)},r.getCircleIntersectionPoints=function(t,e){return u.C.getLineIntersectionPoints(e,t)},r.getLineIntersectionPoints=function(t,e){let n=(e.end.y-e.start.y)*(t.end.x-t.start.x)-(e.end.x-e.start.x)*(t.end.y-t.start.y);if(0===n)return[];let r=((e.end.x-e.start.x)*(t.start.y-e.start.y)-(e.end.y-e.start.y)*(t.start.x-e.start.x))/n,i=((t.end.x-t.start.x)*(t.start.y-e.start.y)-(t.end.y-t.start.y)*(t.start.x-e.start.x))/n;return r<0||r>1||i<0||i>1?[]:[new o.S(t.start.x+r*(t.end.x-t.start.x),t.start.y+r*(t.end.y-t.start.y))]},r.getBoundingRect=function(t){let e=Math.min(t.start.x,t.end.x),n=Math.max(t.start.x,t.end.x),r=Math.min(t.start.y,t.end.y),i=Math.max(t.start.y,t.end.y);return new h(n,i,n-e,i-r)},r.equals=function(t,e,n=Number.EPSILON){return Math.abs(t.start.x-e.start.x)<n&&Math.abs(t.start.y-e.start.y)<n&&Math.abs(t.end.x-e.end.x)<n&&Math.abs(t.end.y-e.end.y)<n};class h{x;y;width;height;constructor(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}get center(){return h.getCenter(this)}get left(){return h.getLeft(this)}get right(){return h.getRight(this)}get top(){return h.getTop(this)}get bottom(){return h.getBottom(this)}get topLeft(){return h.getTopLeft(this)}get topRight(){return h.getTopRight(this)}get bottomLeft(){return h.getBottomLeft(this)}get bottomRight(){return h.getBottomRight(this)}get corners(){return h.getCorners(this)}get edges(){return h.getEdges(this)}static from(t){return new h(t.x,t.y,t.width,t.height)}getClosestPoint(t){return h.getClosestPoint(this,t)}containsPoint(t){return h.containsPoint(this,t)}containsRect(t){return h.containsRect(this,t)}containsCircle(t){return h.containsCircle(this,t)}containsLine(t){return h.containsLine(this,t)}overlapsRect(t){return h.overlapsRect(this,t)}overlapsCircle(t){return h.overlapsCircle(this,t)}overlapsLine(t){return h.overlapsLine(this,t)}intersectRect(t){return h.intersectRect(this,t)}intersectCircle(t){return h.intersectCircle(this,t)}getRectIntersectionPoints(t){return h.getRectIntersectionPoints(this,t)}getCircleIntersectionPoints(t){return h.getCircleIntersectionPoints(this,t)}getLineIntersectionPoints(t){return h.getLineIntersectionPoints(this,t)}getBoundingRect(){return h.getBoundingRect(this)}equals(t,e=Number.EPSILON){return h.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}clone(){return new h(this.x,this.y,this.width,this.height)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1),n=this.width.toFixed(1),r=this.height.toFixed(1);return`Rect(x:${t}, y:${e}, w:${n}, h:${r})`}}(i=h||(h={})).getCenter=function(t){return new o.S(t.x+t.width/2,t.y+t.height/2)},i.getLeft=function(t){return t.x},i.getRight=function(t){return t.x+t.width},i.getTop=function(t){return t.y},i.getBottom=function(t){return t.y+t.height},i.getTopLeft=function(t){return new o.S(t.x,t.y)},i.getTopRight=function(t){return new o.S(t.x+t.width,t.y)},i.getBottomLeft=function(t){return new o.S(t.x,t.y+t.height)},i.getBottomRight=function(t){return new o.S(t.x+t.width,t.y+t.height)},i.getCorners=function(t){return[i.getTopLeft(t),i.getTopRight(t),i.getBottomRight(t),i.getBottomLeft(t)]},i.getEdges=function(t){let e=i.getCorners(t);return[new c(e[0],e[1]),new c(e[1],e[2]),new c(e[2],e[3]),new c(e[3],e[0])]},i.getClosestPoint=function(t,e){let n=o.S.from(e),r=t.x,a=t.y,u=r+t.width,c=a+t.height;if(i.containsPoint(t,e)){let t=r-n.x,e=a-n.y,i=u-n.x,s=c-n.y,o=Math.min(Math.min(t,i),Math.min(e,s));return o===t?n.x=r:o===i&&(n.x=u),o===e?n.y=a:o===s&&(n.y=c),n}return n.x=(0,s.uZ)(e.x,{min:r,max:u}),n.y=(0,s.uZ)(e.y,{min:a,max:c}),n},i.containsPoint=function(t,e){return t.x<=e.x&&t.x+t.width>=e.x&&t.y<=e.y&&t.y+t.height>=e.y},i.containsRect=function(t,e){return t.x<=e.x&&t.x+t.width>=e.x+e.width&&t.y<=e.y&&t.y+t.height>=e.y+e.height},i.containsCircle=function(t,e){if(!i.containsPoint(t,e))return!1;let n=i.getClosestPoint(t,e).distanceToSquared(e);return Math.pow(e.radius,2)<=n},i.containsLine=function(t,e){return i.containsPoint(t,e.start)&&i.containsPoint(t,e.end)},i.overlapsRect=function(t,e){return t.x+t.width>=e.x&&t.x<=e.x+e.width&&t.y+t.height>=e.y&&t.y<=e.y+e.height},i.overlapsCircle=function(t,e){if(i.containsPoint(t,e))return!0;let n=i.getClosestPoint(t,e);return u.C.containsPoint(e,n)},i.overlapsLine=function(t,e){return i.containsLine(t,e)||i.getEdges(t).some(e=>i.getLineIntersectionPoints(t,e))},i.intersectCircle=function(t,e){return i.intersectRect(t,u.C.getBoundingRect(e))},i.intersectRect=function(t,e){let n=Math.max(t.x,e.x),r=Math.min(t.x+t.width,e.x+e.width),s=Math.max(t.y,e.y),o=Math.min(t.y+t.height,e.y+e.height),a=r-n,u=o-s;return a<=0||u<=0?null:new i(n,s,a,u)},i.getRectIntersectionPoints=function(t,e){if(!i.overlapsRect(t,e))return[];let n=i.getEdges(t),r=i.getEdges(e),s=[];for(let t of n)for(let e of r){let n=c.getLineIntersectionPoints(t,e);n.length>0&&s.push(...n)}return s},i.getCircleIntersectionPoints=function(t,e){let n=i.getEdges(t),r=[];for(let t of n){let n=c.getCircleIntersectionPoints(t,e);n&&r.push(...n)}return r},i.getLineIntersectionPoints=function(t,e){throw Error("Not implemented")},i.getBoundingRect=function(t){return i.from(t)},i.equals=function(t,e,n=Number.EPSILON){return Math.abs(t.x-e.x)<n&&Math.abs(t.y-e.y)<n&&Math.abs(t.x+t.width-e.x+e.width)<n&&Math.abs(t.y+t.height-e.y+e.height)<n}},4962:function(t,e,n){n.d(e,{y:()=>r});class r{r;g;b;a;constructor(t,e,n,r=1){this.r=t,this.g=e,this.b=n,this.a=r}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}clone(){return new r(this.r,this.g,this.b,this.a)}toRgbCssString(){return`rgb(${this.r} ${this.g} ${this.b} / ${100*this.a}%)`}toString(){return`Rgba(${this.r.toString(16)}${this.g.toString(16)}${this.b.toString(16)}${this.a.toString(16)})`}}},2671:function(t,e,n){n.d(e,{S:()=>o});var r,i=n(9333),s=n(5174);class o{x;y;static ZERO=o.zero();constructor(t,e){this.x=t,this.y=e}get magnitude(){return o.getMagnitude(this)}set magnitude(t){let e=this.magnitude;this.x=this.x/e*t,this.y=this.y/e*t}get magnitudeSquared(){return o.getMagnitudeSquared(this)}get angle(){return o.getAngle(this)}set angle(t){let e=this.magnitude;this.x=e*Math.cos(t),this.y=e*Math.sin(t)}static zero(){return new o(0,0)}static unit(t){return o.polar(t,1)}static polar(t,e){return new o(e*Math.cos(t),e*Math.sin(t))}static direction(t,e){return o.from(e).subtract(t)}static from(t){return new o(t.x??0,t.y??0)}dot(t){return o.dot(this,t)}normalize(){let t=this.magnitude;return this.x/=t||1,this.y/=t||1,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}subtractScalar(t){return this.x-=t,this.y-=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.x/=t,this.y/=t,this}transformMat2(t){let{x:e,y:n}=this;return this.x=t[0]*e+t[2]*n,this.y=t[1]*e+t[3]*n,this}transformMat3(t){let{x:e,y:n}=this;return this.x=t[0]*e+t[3]*n+t[6],this.y=t[1]*e+t[4]*n+t[7],this}negate(){return this.x*=-1,this.y*=-1,this}invert(){return this.x=1/this.x,this.y=1/this.y,this}maxMagnitude(t){return this.magnitude=Math.max(this.magnitude,t),this}minMagnitude(t){return this.magnitude=Math.min(this.magnitude,t),this}clampMagnitude(t,e){return this.magnitude=(0,i.uZ)(this.magnitude,{min:t,max:e}),this}isZero(t=Number.EPSILON){return o.isZero(this,t)}isNan(){return o.isNan(this)}equals(t,e=Number.EPSILON){return o.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this}clone(){return new o(this.x,this.y)}toPoint(){return s.S.from(this)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1);return`Vec2(x:${t}, y:${e})`}}(r=o||(o={})).getMagnitude=function(t){return Math.sqrt(r.getMagnitudeSquared(t))},r.setMagnitude=function(t,e){let n=r.getMagnitude(t);return{x:t.x/n*e,y:t.y/n*e}},r.getMagnitudeSquared=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)},r.getAngle=function(t){return Math.atan2(t.y,t.x)},r.setAngle=function(t,e){let n=r.getMagnitude(t);return{x:n*Math.cos(e),y:n*Math.sin(e)}},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.normalize=function(t){let e=r.getMagnitude(t);return{x:t.x/e||1,y:t.y/e||1}},r.add=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},r.addScalar=function(t,e){return{x:t.x+e,y:t.y+e}},r.subtract=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},r.subtractScalar=function(t,e){return{x:t.x+e,y:t.y+e}},r.multiply=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},r.multiplyScalar=function(t,e){return{x:t.x+e,y:t.y+e}},r.divide=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},r.divideScalar=function(t,e){return{x:t.x+e,y:t.y+e}},r.transformMat2=function(t,e){return{x:e[0]*t.x+e[2]*t.y,y:e[1]*t.x+e[3]*t.y}},r.transformMat3=function(t,e){return{x:e[0]*t.x+e[3]*t.y+e[6],y:e[1]*t.x+e[4]*t.y+e[7]}},r.negate=function(t){return{x:-1*t.x,y:-1*t.y}},r.invert=function(t){return{x:1/t.x,y:1/t.y}},r.maxMagnitude=function(t,e){return r.setMagnitude(t,Math.max(r.getMagnitude(t),e))},r.minMagnitude=function(t,e){return r.setMagnitude(t,Math.min(r.getMagnitude(t),e))},r.clampMagnitude=function(t,e,n){return r.setMagnitude(t,(0,i.uZ)(r.getMagnitude(t),{min:e,max:n}))},r.isZero=function(t,e=Number.EPSILON){return Math.abs(t.x)<e&&Math.abs(t.y)<e},r.isNan=function(t){return isNaN(t.x)||isNaN(t.y)},r.equals=function(t,e,n=Number.EPSILON){return Math.abs(t.x-e.x)<=n&&Math.abs(t.y-e.y)<=n}},9347:function(t,e,n){var r,i;n.d(e,{t:()=>r}),n(481),(i=r||(r={})).chunk=function(t,e){if(e<0)throw Error("Invalid chunk size");let n=[];for(let r=0;r<t.length;r+=e){let i=t.slice(r,r+e);n.push(i)}return n},i.pickRandom=function(t){let e=t.length;if(e<=0)throw Error("Invalid array size");return t[Math.floor(Math.random()*e)]},i.equals=function(t,e){return t.length==e.length&&t.every((t,n)=>t==e[n])}},9278:function(t,e,n){n.d(e,{_:()=>r});function r(t){return new Promise((e,n)=>{let r=new Audio(t);return r.autoplay=!1,r.preload="auto",r.oncanplaythrough=()=>e(r),r.onerror=t=>n(`Failed to load audio: ${t}`),r.src=t,r})}},160:function(t,e,n){var r;n.d(e,{X:()=>r}),(r||(r={})).applyTransform=function(t,e){t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}},5660:function(t,e,n){n.d(e,{p:()=>r});function r(t){return new Promise((e,n)=>{let r=new Image;return r.onload=()=>e(r),r.onerror=t=>n(`Failed to load image: ${t}`),r.src=t,r})}},9333:function(t,e,n){n.d(e,{uZ:()=>r});function r(t,e){return Math.min(Math.max(t,e.min),e.max)}},8002:function(t,e,n){n.d(e,{e:()=>u});var r=n(4411),i=n(5597),s=n(3116),o=n(4716),a=n(2007);let u=n(3743).Y.builder().single("transform",i.A).single("circle",a.C).optional("physical",s.W).optional("collidable",o.E).optional("zIndex",r.K).build()},3500:function(t,e,n){n.d(e,{x:()=>u});var r=n(4411),i=n(5597),s=n(3306),o=n(3116),a=n(4716);let u=n(3743).Y.builder().single("transform",i.A).single("rectangle",s.A).optional("physical",o.W).optional("collidable",a.E).optional("zIndex",r.K).build()},2654:function(t,e,n){n.d(e,{V:()=>o});var r=n(5597),i=n(2342),s=n(9016);let o=n(3743).Y.builder().single("transform",r.A).single("camera",i.V).optional("attached",s.s).build()},76:function(t,e,n){n.d(e,{J:()=>l});var r=n(4411),i=n(5597),s=n(3722),o=n(8094),a=n(5007),u=n(4716),c=n(4141),h=n(8989);let l=n(3743).Y.builder().single("transform",i.A).single("character",c.zk).single("controlled",a.f).single("collidable",u.E).single("drawable",o.Q).single("animated",h.fS).single("health",s.S).optional("zIndex",r.K).build()},8989:function(t,e,n){n.d(e,{OB:()=>s,_p:()=>o,fS:()=>a});var r,i=n(3284),s=((r={}).IDLE="IDLE",r.WALKING="WALKING",r.RUNNING="RUNNING",r.JUMPING="JUMPING",r);class o{frames;frameTimeSeconds;playing;currentTime;currentFrame;constructor(t,e=0){this.frames=t,this.frameTimeSeconds=e,this.playing=!0,this.currentTime=0,this.currentFrame=0}getFrame(){return this.frames[this.currentFrame]}tick(t){if(this.playing)for(this.currentTime+=t;this.currentTime>=this.frameTimeSeconds;)this.currentTime-=this.frameTimeSeconds,this.currentFrame=(this.currentFrame+1)%this.frames.length}resume(){this.playing=!0}pause(){this.playing=!1}stop(){this.playing=!1,this.reset()}reset(){this.currentFrame=0,this.currentTime=0}}class a{animations;currentState;static id=i.G.next();speedModifier;constructor(t,e){this.animations=t,this.currentState=e,this.speedModifier=1}play(t){t!==this.currentState&&this.animations.hasOwnProperty(t)&&(this.reset(),this.currentState=t)}getImage(){return this.animations[this.currentState].getFrame()}tick(t){this.animations[this.currentState].tick(t*this.speedModifier)}resume(){this.animations[this.currentState].resume()}pause(){this.animations[this.currentState].pause()}stop(){this.animations[this.currentState].stop()}reset(){this.speedModifier=1,this.animations[this.currentState].reset()}}},9016:function(t,e,n){n.d(e,{s:()=>c});var r,i,s=n(9333);class o{x;y;z;static ZERO=o.zero();constructor(t,e,n){this.x=t,this.y=e,this.z=n}get magnitude(){return o.getMagnitude(this)}set magnitude(t){o.setMagnitude(this,t)}get magnitudeSquared(){return o.getMagnitudeSquared(this)}static zero(){return new o(0,0,0)}static direction(t,e){return o.from(e).subtract(t)}static from(t){return new o(t.x??0,t.y??0,t.z??0)}dot(t){return o.dot(this,t)}cross(t){return o.from(o.cross(this,t))}normalize(){let t=this.magnitude;return this.x=this.x/t||1,this.y=this.y/t||1,this.z=this.z/t||1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}subtract(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subtractScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.x/=t,this.y/=t,this.z/=t,this}transformMat3(t){let{x:e,y:n,z:r}=this;return this.x=e*t[0]+n*t[3]+r*t[6],this.y=e*t[1]+n*t[4]+r*t[7],this.z=e*t[2]+n*t[5]+r*t[8],this}negate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}invert(){return this.x=1/this.x,this.y=1/this.y,this.z=1/this.z,this}maxMagnitude(t){return this.magnitude=Math.max(this.magnitude,t),this}minMagnitude(t){return this.magnitude=Math.min(this.magnitude,t),this}clampMagnitude(t,e){return this.magnitude=(0,s.uZ)(this.magnitude,{min:t,max:e}),this}isZero(t=Number.EPSILON){return o.isZero(this,t)}isNan(){return o.isNan(this)}equals(t,e=Number.EPSILON){return o.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}clone(){return new o(this.x,this.y,this.z)}toPoint(){return a.from(this)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1),n=this.z.toFixed(1);return`Vec3(x:${t}, y:${e}, z:${n})`}}(r=o||(o={})).getMagnitude=function(t){return Math.sqrt(r.getMagnitudeSquared(t))},r.setMagnitude=function(t,e){let n=r.getMagnitude(t);return{x:t.x/n*e,y:t.y/n*e,z:t.z/n*e}},r.getMagnitudeSquared=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)+Math.pow(t.z,2)},r.dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},r.cross=function(t,e){return{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}},r.normalize=function(t){let e=r.getMagnitude(t);return{x:t.x/e||1,y:t.y/e||1,z:t.z/e||1}},r.add=function(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}},r.addScalar=function(t,e){return{x:t.x+e,y:t.y+e,z:t.z+e}},r.subtract=function(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}},r.subtractScalar=function(t,e){return{x:t.x-e,y:t.y-e,z:t.z-e}},r.multiply=function(t,e){return{x:t.x*e.x,y:t.y*e.y,z:t.z*e.z}},r.multiplyScalar=function(t,e){return{x:t.x*e,y:t.y*e,z:t.z*e}},r.divide=function(t,e){return{x:t.x/e.x,y:t.y/e.y,z:t.z/e.z}},r.divideScalar=function(t,e){return{x:t.x/e,y:t.y/e,z:t.z/e}},r.transformMat3=function(t,e){return{x:e[0]+t.y*e[3]+t.z*e[6],y:e[1]+t.y*e[4]+t.z*e[7],z:e[2]+t.y*e[5]+t.z*e[8]}},r.negate=function(t){return{x:-1*t.x,y:-1*t.y,z:-1*t.z}},r.invert=function(t){return{x:1/t.x,y:1/t.y,z:1/t.z}},r.maxMagnitude=function(t,e){return r.setMagnitude(t,Math.max(r.getMagnitude(t),e))},r.minMagnitude=function(t,e){return r.setMagnitude(t,Math.min(r.getMagnitude(t),e))},r.clampMagnitude=function(t,e,n){return r.setMagnitude(t,(0,s.uZ)(r.getMagnitude(t),{min:e,max:n}))},r.isZero=function(t,e=Number.EPSILON){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e},r.isNan=function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)},r.equals=function(t,e,n=Number.EPSILON){return Math.abs(t.x-e.x)<=n&&Math.abs(t.y-e.y)<=n&&Math.abs(t.z-e.z)<=n};class a{x;y;z;static ORIGIN=a.zero();constructor(t,e,n){this.x=t,this.y=e,this.z=n}static zero(){return new a(0,0,0)}static midpoint(t,e){return new a((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)}static from(t){return new a(t.x??0,t.y??0,t.z??0)}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}subtract(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subtractScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.x/=t,this.y/=t,this.z/=t,this}transformMat3(t){let{x:e,y:n,z:r}=this;return this.x=e*t[0]+n*t[3]+r*t[6],this.y=e*t[1]+n*t[4]+r*t[7],this.z=e*t[2]+n*t[5]+r*t[8],this}directionTo(t){return o.direction(this,t)}distanceTo(t){return a.distanceBetween(this,t)}distanceToSquared(t){return a.distanceBetweenSquared(this,t)}isZero(t=Number.EPSILON){return a.isZero(this,t)}isNan(){return a.isNan(this)}equals(t,e=Number.EPSILON){return a.equals(this,t,e)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}clone(){return new a(this.x,this.y,this.z)}toVec(){return o.from(this)}toString(){let t=this.x.toFixed(1),e=this.y.toFixed(1),n=this.z.toFixed(1);return`Pnt3(x:${t}, y:${e}, z:${n})`}}(i=a||(a={})).add=function(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}},i.addScalar=function(t,e){return{x:t.x+e,y:t.y+e,z:t.z+e}},i.subtract=function(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}},i.subtractScalar=function(t,e){return{x:t.x-e,y:t.y-e,z:t.z-e}},i.multiply=function(t,e){return{x:t.x*e.x,y:t.y*e.y,z:t.z*e.z}},i.multiplyScalar=function(t,e){return{x:t.x*e,y:t.y*e,z:t.z*e}},i.divide=function(t,e){return{x:t.x/e.x,y:t.y/e.y,z:t.z/e.z}},i.divideScalar=function(t,e){return{x:t.x/e,y:t.y/e,z:t.z/e}},i.transformMat3=function(t,e){return{x:e[0]+t.y*e[3]+t.z*e[6],y:e[1]+t.y*e[4]+t.z*e[7],z:e[2]+t.y*e[5]+t.z*e[8]}},i.distanceBetween=function(t,e){return Math.sqrt(i.distanceBetweenSquared(t,e))},i.distanceBetweenSquared=function(t,e){let n=t.x-e.x;return Math.pow(n,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)},i.isZero=function(t,e=Number.EPSILON){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e},i.isNan=function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)},i.equals=function(t,e,n=Number.EPSILON){return Math.abs(t.x-e.x)<n&&Math.abs(t.y-e.y)<n&&Math.abs(t.z-e.z)<n};var u=n(3284);class c{target;static id=u.G.next();offset;constructor(t){this.target=t,this.offset=a.zero()}}},2342:function(t,e,n){n.d(e,{V:()=>h,g:()=>c});var r,i=n(2671),s=n(1700),o=n(5174),a=n(7915),u=n(3284),c=((r={})[r.NO_CHANGE=0]="NO_CHANGE",r[r.CHANGE_WIDTH_TO_FIT_CANVAS=1]="CHANGE_WIDTH_TO_FIT_CANVAS",r[r.CHANGE_HEIGHT_TO_FIT_CANVAS=2]="CHANGE_HEIGHT_TO_FIT_CANVAS",r[r.CHANGE_SHORTEST_SIDE_TO_FIT_CANVAS=3]="CHANGE_SHORTEST_SIDE_TO_FIT_CANVAS",r[r.CHANGE_LONGEST_SIDE_TO_FIT_CANVAS=4]="CHANGE_LONGEST_SIDE_TO_FIT_CANVAS",r[r.CHANGE_LENGTH_TO_FIT_CANVAS=5]="CHANGE_LENGTH_TO_FIT_CANVAS",r);class h{mode;safeZone;static id=u.G.next();constructor(t,e){this.mode=t,this.safeZone=e}static worldToScreen(t,e){let n=a.h.inverse(t);return n?o.S.transformMat3(e,n):o.S.ORIGIN}static screenToWorld(t,e){return o.S.transformMat3(e,t)}getMatrix(t,e){let n=this.getZoomLevel(e),r=t.scale.x/n,i=t.scale.y/n,s=Math.cos(t.rotation),o=Math.sin(t.rotation);return a.h.from([r*s,r*o,0,-i*o,i*s,0,t.position.x,t.position.y,1])}getViewMatrix(t,e){return this.getMatrix(t,e).invert()??a.h.identity()}isPointInView(t,e,n){let r=this.getMatrix(t,n).data,i=h.worldToScreen(r,e);return s.U.containsPoint({x:-n.width/2,y:-n.height/2,width:n.width,height:n.height},i)}isRectInView(t,e,n){let r={x:-n.width/2,y:-n.height/2,width:n.width,height:n.height},i=this.getMatrix(t,n).data,o=h.worldToScreen(i,s.U.getTopLeft(e));if(s.U.containsPoint(r,o))return!0;let a=h.worldToScreen(i,s.U.getTopRight(e));if(s.U.containsPoint(r,a))return!0;let u=h.worldToScreen(i,s.U.getBottomRight(e));if(s.U.containsPoint(r,u))return!0;let c=h.worldToScreen(i,s.U.getBottomLeft(e));return s.U.containsPoint(r,c)}getZoomLevel(t){switch(this.mode){case 0:return 1;case 1:return t.width/this.safeZone.width;case 2:return t.height/this.safeZone.height;case 3:return Math.min(t.width/this.safeZone.width,t.height/this.safeZone.height);case 4:return Math.max(t.width/this.safeZone.width,t.height/this.safeZone.height);case 5:return Math.sqrt(i.S.getMagnitudeSquared({x:t.width,y:t.height})/i.S.getMagnitudeSquared({x:this.safeZone.width,y:this.safeZone.height}))}}}},4141:function(t,e,n){n.d(e,{py:()=>a,u9:()=>c,vI:()=>u,zk:()=>h});var r,i,s,o=n(3284),a=((r={})[r.GROUNDED=0]="GROUNDED",r[r.AIRBORNE=1]="AIRBORNE",r[r.SUBMERGED=2]="SUBMERGED",r),u=((i={})[i.NORTH=0]="NORTH",i[i.EAST=1]="EAST",i[i.SOUTH=2]="SOUTH",i[i.WEST=3]="WEST",i),c=((s={})[s.IDLE=0]="IDLE",s[s.WALKING=1]="WALKING",s[s.RUNNING=2]="RUNNING",s[s.JUMPING=3]="JUMPING",s[s.GLIDING=4]="GLIDING",s[s.FALLING=5]="FALLING",s);class h{locationState;movementState;facingDirection;static id=o.G.next();constructor(t,e,n){this.locationState=t,this.movementState=e,this.facingDirection=n}}},2007:function(t,e,n){n.d(e,{C:()=>i});var r=n(3284);class i{radius;color;static id=r.G.next();constructor(t,e){this.radius=t,this.color=e}}},4716:function(t,e,n){n.d(e,{E:()=>i});var r=n(3284);class i{collider;static id=r.G.next();constructor(t){this.collider=t}}},5007:function(t,e,n){n.d(e,{f:()=>i});var r=n(3284);class i{static id=r.G.next()}},8094:function(t,e,n){n.d(e,{Q:()=>i});var r=n(3284);class i{content;position;size;static id=r.G.next();flipX;flipY;constructor(t,e,n){this.content=t,this.position=e,this.size=n,this.flipX=!1,this.flipY=!1}}},3722:function(t,e,n){n.d(e,{S:()=>i});var r=n(3284);class i{hpTotal;hpLeft;static id=r.G.next();constructor(t,e=t){this.hpTotal=t,this.hpLeft=e}}},1220:function(t,e,n){n.d(e,{Z:()=>i});var r=n(3284);class i{timeLeft;static id=r.G.next();constructor(t){this.timeLeft=t}get isOver(){return this.timeLeft<=0}tick(t){this.timeLeft-=t}}},3116:function(t,e,n){n.d(e,{W:()=>s});var r=n(2671),i=n(3284);class s{mass;velocity;static id=i.G.next();constructor(t,e=r.S.zero()){this.mass=t,this.velocity=e}}},3306:function(t,e,n){n.d(e,{A:()=>i});var r=n(3284);class i{size;color;static id=r.G.next();constructor(t,e){this.size=t,this.color=e}}},5597:function(t,e,n){n.d(e,{A:()=>a});var r=n(2671),i=n(5174),s=n(7915),o=n(3284);class a{position;rotation;scale;static id=o.G.next();constructor(t=new i.S(0,0),e=0,n=new r.S(1,1)){this.position=t,this.rotation=e,this.scale=n}get matrix(){let t=Math.sin(this.rotation),e=Math.cos(this.rotation);return s.h.from([this.scale.x*e,this.scale.x*t,0,-this.scale.y*t,this.scale.y*e,0,this.position.x,this.position.y,1])}translate(t){this.position.x+=t.x,this.position.y+=t.y}rescale(t){this.scale.x*=t.x,this.scale.y*=t.y}rotate(t){this.rotation=(this.rotation+t)%(2*Math.PI)}}},4411:function(t,e,n){n.d(e,{K:()=>i});var r=n(3284);class i{value;static id=r.G.next();constructor(t=0){this.value=t}}},9209:function(t,e,n){n.d(e,{H:()=>f});var r=n(4411),i=n(5597),s=n(3116),o=n(4716),a=n(2007),u=n(8002),c=n(2671),h=n(4962),l=n(5174),d=n(8178);function f(t){let e=new i.A(new l.S(2e3*Math.random(),2e3*Math.random())),n=new c.S((1e3*Math.random()-500)*.2,(1e3*Math.random()-500)*.2),f=60*Math.random()+20,y=new a.C(f,new h.y(125,200,0,1)),p=new s.W(10,n),g=new o.E(new d.C(0,0,f)),m=new r.K(1);return t.createArchetype(u.e,{transform:e,circle:y,physical:p,collidable:g,zIndex:m})}},4315:function(t,e,n){n.d(e,{d:()=>y});var r=n(4411),i=n(5597),s=n(3306),o=n(3116),a=n(4716),u=n(3500),c=n(2671),h=n(4962),l=n(1700),d=n(5174),f=n(8182);function y(t){let e=new i.A(new d.S(2e3*Math.random(),2e3*Math.random())),n=new c.S((1e3*Math.random()-500)*.2,(1e3*Math.random()-500)*.2),y=new f.T(80*Math.random()+20,80*Math.random()+20),p=new s.A(y,new h.y(0,0,255,1)),g=new o.W(10,n),m=new a.E(new l.U(0,0,y.width,y.height)),x=new r.K(1);return t.createArchetype(u.x,{transform:e,rectangle:p,physical:g,collidable:m,zIndex:x})}},9380:function(t,e,n){n.d(e,{d:()=>u});var r=n(5597),i=n(2342),s=n(9016),o=n(2654),a=n(8182);function u(t,e){let n=t.getFirstComponent(e,r.A);return t.createArchetype(o.V,{transform:new r.A(n?.position?.clone()),camera:new i.V(i.g.CHANGE_HEIGHT_TO_FIT_CANVAS,new a.T(1e3,600)),attached:new s.s(e)})}},701:function(t,e,n){n.d(e,{M:()=>v});var r=n(4411),i=n(5597),s=n(3722),o=n(8094),a=n(5007),u=n(4716),c=n(4141),h=n(9016),l=n(8989),d=n(76),f=n(5660),y=n(1700),p=n(5174),g=n(8182),m=n(1578);let x=n.p+"static/image/cat.7bba9b5a.png";async function v(t){let e=await (0,f.p)(x),n=await m.V.fromPredefined(e,[new y.U(7,18,16,16),new y.U(39,18,16,16),new y.U(71,18,16,16),new y.U(103,18,16,16),new y.U(7,50,16,16),new y.U(39,50,16,16),new y.U(71,50,16,16),new y.U(103,50,16,16),new y.U(7,82,16,16),new y.U(39,82,16,16),new y.U(71,82,16,16),new y.U(103,82,16,16),new y.U(7,114,16,16),new y.U(39,114,16,16),new y.U(71,114,16,16),new y.U(103,114,16,16)]),v=await m.V.fromPredefined(e,[new y.U(7,146,16,16),new y.U(39,146,16,16),new y.U(71,146,16,16),new y.U(103,146,16,16),new y.U(135,146,16,16),new y.U(167,146,16,16),new y.U(199,146,16,16),new y.U(231,146,16,16)]),w=await m.V.fromPredefined(e,[new y.U(7,178,16,16),new y.U(39,178,16,16),new y.U(71,178,16,16),new y.U(103,178,16,16),new y.U(135,178,16,16),new y.U(167,178,16,16),new y.U(199,178,16,16),new y.U(231,178,16,16)]),S=await m.V.fromPredefined(e,[new y.U(7,274,16,16),new y.U(39,274,16,16),new y.U(71,274,16,16),new y.U(103,274,16,16),new y.U(135,274,16,16),new y.U(167,274,16,16)]),M=t.createArchetype(d.J,{transform:new i.A(new p.S(1e3,1e3)),character:new c.zk(c.py.GROUNDED,c.u9.IDLE,c.vI.EAST),controlled:new a.f,collidable:new u.E(new y.U(-30,-30,60,60)),drawable:new o.Q(n[0],new p.S(-32,-32),new g.T(64,64)),animated:new l.fS({[l.OB.IDLE]:new l._p(n,.15),[l.OB.WALKING]:new l._p(v,.1),[l.OB.RUNNING]:new l._p(w,.07),[l.OB.JUMPING]:new l._p(S,.1)},l.OB.WALKING),zIndex:new r.K(3),health:new s.S(9)});return t.createEntity([new i.A,new h.s(M),new r.K(2)]),M}},6039:function(t,e,n){n.d(e,{i:()=>d}),n(9560);var r,i,s=n(5660),o=n(9347);class a{tiles;constructor(t){this.tiles=t}getTile(t){return this.tiles[t]??null}}n(4912),n(78),n(1416),n(9975),n(1998),n(8023),n(7527),n(4749),n(7881),n(9365),n(2592),n(1819),n(5614),n(7628),r=Symbol.iterator;class u{name;tiles;constructor(t,e){this.name=t,this.tiles=e}getTile(t){return this.tiles[t.y]?.[t.x]??null}*[r](){for(let t of this.tiles)for(let e of t)null!=e&&(yield e)}}i=Symbol.iterator;class c{width;height;layers;static DEFAULT_LAYER="__DEFAULT_LAYER";indices;constructor(t,e,n){this.width=t,this.height=e,this.layers=n,this.indices=new Map;for(let t=0;t<n.length;t++){let e=n[t];this.indices.set(e.name,t)}}static withSingleLayer(t){return new c(t[0]?.length??0,t.length,[new u(c.DEFAULT_LAYER,t)])}getLayer(t){let e=this.indices.get(t);return void 0===e?null:this.layers[e]??null}getTile(t,e){let n=this.getLayer(t);return null===n?null:n.getTile(e)}getSection(t){throw Error("Not implemented")}getTiles(t){let e=[];for(let n of this.layers){let r=n.getTile(t);null!==r&&e.push(r)}return e}*[i](){for(let t of this.layers)for(let e of t)yield e}}var h=n(1578);let l=n.p+"static/image/tilemap.c5d047c7.png";async function d(){let t=await (0,s.p)(l),e=await h.V.fromFixedGrid(t,{gridSize:{width:32,height:32}}),n=new a({a:e[3][0],b:e[3][1],c:e[3][2],d:e[3][3],e:e[3][4],f:e[3][5],g:e[3][6],h:e[3][7]}),r=[{name:"a"},{name:"b"},{name:"c"},{name:"d"},{name:"e"},{name:"f"},{name:"g"},{name:"h"}];return[new c(32,16,[new u("ground",Array(16).fill(null).map(()=>Array(32).fill(null).map(()=>o.t.pickRandom(r))))]),n]}},144:function(t,e,n){n.d(e,{bG:()=>f,eT:()=>g,ef:()=>p,fD:()=>y}),n(793);var r=n(5597),i=n(3116),s=n(4716),o=n(2654),a=n(160),u=n(4962),c=n(1700),h=n(8178),l=n(4917);let d=2*Math.PI;class f{context;static CAMERA_BOUNDS_COLOR=new u.y(0,255,0,.8);constructor(t){this.context=t}update({entities:t},e){let n=this.context,r=t.queryAllEntities(o.V),i=r.find(t=>!0);if(n.save(),i){let t=i.camera.getViewMatrix(i.transform,n.canvas);a.X.applyTransform(n,t.data)}for(let t of r){n.save();let e=t.transform.matrix;a.X.applyTransform(n,e.data),n.lineWidth=2,n.strokeStyle=f.CAMERA_BOUNDS_COLOR.toRgbCssString(),n.strokeRect(0,0,t.camera.safeZone.width,t.camera.safeZone.height),n.beginPath(),n.moveTo(0,0),n.lineTo(t.camera.safeZone.width,t.camera.safeZone.height),n.stroke(),n.beginPath(),n.moveTo(0,t.camera.safeZone.height),n.lineTo(t.camera.safeZone.width,0),n.stroke(),n.restore()}n.restore()}}class y{context;lengthModifier;constructor(t,e=1){this.context=t,this.lengthModifier=e}update({entities:t},e){let n=this.context,s=t.queryFirstEntity(o.V),u=t.queryAllEntities(l.A.create().single("transform",r.A).single("physical",i.W));if(n.save(),n.translate(n.canvas.width/2,n.canvas.height/2),s){let t=s.camera.getViewMatrix(s.transform,n.canvas);a.X.applyTransform(n,t.data)}for(let t of u){let{transform:e,physical:{velocity:r}}=t;if(s&&!s.camera.isPointInView(s.transform,e.position,n.canvas))continue;n.save();let i=e.matrix;a.X.applyTransform(n,i.data),n.lineWidth=3,n.strokeStyle="black",n.lineCap="butt",n.beginPath(),n.moveTo(0,0),n.lineTo(r.x*this.lengthModifier,r.y*this.lengthModifier),n.stroke(),n.restore()}n.restore()}}class p{context;static INTERSECTION_POINT_COLOR=new u.y(255,0,0,.8);static INTERSECTION_BOX_COLOR=new u.y(255,0,0,.4);constructor(t){this.context=t}update({entities:t},e){let n=this.context,i=t.queryFirstEntity(o.V),u=t.queryAllEntities(l.A.create().single("transform",r.A).single("collidable",s.E));if(n.save(),n.translate(n.canvas.width/2,n.canvas.height/2),i){let t=i.camera.getViewMatrix(i.transform,n.canvas);a.X.applyTransform(n,t.data)}for(let t=0;t<u.length;t++){let{transform:e,collidable:{collider:n}}=u[t];for(let r=t+1;r<u.length;r++){let{transform:t,collidable:{collider:i}}=u[r];if(n instanceof h.C&&i instanceof h.C){let r=h.C.from({x:n.x+e.position.x,y:n.y+e.position.y,radius:n.radius*e.scale.x}),s=h.C.from({x:i.x+t.position.x,y:i.y+t.position.y,radius:i.radius*t.scale.x});for(let t of h.C.getCircleIntersectionPoints(r,s))this.renderIntersectionPoint(t);let o=h.C.intersectCircle(r,s);o&&this.renderCollisionBox(o)}else if(n instanceof c.U&&i instanceof c.U){let r=c.U.from({x:n.x+e.position.x,y:n.y+e.position.y,width:n.width*e.scale.x,height:n.height*e.scale.y}),s=c.U.from({x:i.x+t.position.x,y:i.y+t.position.y,width:i.width*t.scale.x,height:i.height*t.scale.y});for(let t of c.U.getRectIntersectionPoints(r,s))this.renderIntersectionPoint(t);let o=c.U.intersectRect(r,s);o&&this.renderCollisionBox(o)}else if(n instanceof h.C&&i instanceof c.U){let r=h.C.from({x:n.x+e.position.x,y:n.y+e.position.y,radius:n.radius*e.scale.x}),s=c.U.from({x:i.x+t.position.x,y:i.y+t.position.y,width:i.width*t.scale.x,height:i.height*t.scale.y});for(let t of c.U.getCircleIntersectionPoints(s,r))this.renderIntersectionPoint(t);let o=c.U.intersectRect(s,h.C.getBoundingRect(r));o&&this.renderCollisionBox(o)}else if(n instanceof c.U&&i instanceof h.C){let r=c.U.from({x:n.x+e.position.x,y:n.y+e.position.y,width:n.width*e.scale.x,height:n.height*e.scale.y}),s=h.C.from({x:i.x+t.position.x,y:i.y+t.position.y,radius:i.radius*t.scale.x});for(let t of c.U.getCircleIntersectionPoints(r,s))this.renderIntersectionPoint(t);let o=c.U.intersectRect(r,h.C.getBoundingRect(s));o&&this.renderCollisionBox(o)}}}n.restore()}handleCircleCircleCollision(){}handleRectRectCollision(){}handleCircleRectCollision(){}renderIntersectionPoint(t){let e=this.context;e.beginPath(),e.fillStyle=p.INTERSECTION_POINT_COLOR.toRgbCssString(),e.arc(t.x,t.y,4,0,d),e.fill()}renderCollisionBox(t){let e=this.context;e.beginPath(),e.fillStyle=p.INTERSECTION_BOX_COLOR.toRgbCssString(),e.fillRect(t.x,t.y,t.width,t.height)}}class g{context;static STROKE_COLOR=new u.y(128,0,128,.5);static FILL_COLOR=new u.y(128,0,128,.2);constructor(t){this.context=t}update({entities:t},e){let n=this.context,i=t.queryFirstEntity(o.V),u=t.queryAllEntities(l.A.create().single("transform",r.A).single("collidable",s.E));if(n.save(),n.translate(n.canvas.width/2,n.canvas.height/2),i){let t=i.camera.getViewMatrix(i.transform,n.canvas);a.X.applyTransform(n,t.data)}for(let t of u){let{transform:e,collidable:{collider:r}}=t;n.save();let i=e.matrix;a.X.applyTransform(n,i.data),r instanceof h.C?(n.beginPath(),n.arc(r.x,r.y,r.radius,0,d),n.fillStyle=g.FILL_COLOR.toRgbCssString(),n.fill(),n.strokeStyle=g.STROKE_COLOR.toRgbCssString(),n.stroke()):r instanceof c.U&&(n.fillStyle=g.FILL_COLOR.toRgbCssString(),n.fillRect(r.x,r.y,r.width,r.height),n.strokeStyle=g.STROKE_COLOR.toRgbCssString(),n.strokeRect(r.x,r.y,r.width,r.height)),n.restore()}n.restore()}}},7632:function(t,e,n){n.d(e,{z:()=>h});var r=n(4411),i=n(5597),s=n(8094);let o=n(3743).Y.builder().single("transform",i.A).single("drawable",s.Q).optional("zIndex",r.K).build();var a=n(2654),u=n(160);function c(t,e){return t.zIndex&&e.zIndex?t.zIndex.value-e.zIndex.value:t.zIndex?1:e.zIndex?-1:0}class h{context;constructor(t){this.context=t}update({entities:t},e){let n=this.context,r=t.queryFirstEntity(a.V),i=t.queryAllEntities(o).toSorted(c);if(n.save(),n.translate(n.canvas.width/2,n.canvas.height/2),r){let t=r.camera.getViewMatrix(r.transform,n.canvas);u.X.applyTransform(n,t.data)}for(let t of i){let{transform:e,drawable:i}=t,{content:s,size:o,position:a,flipX:c,flipY:h}=i;if(r&&!r.camera.isRectInView(r.transform,{...e.position,...o},n.canvas))continue;n.save(),n.imageSmoothingEnabled=!1;let l=e.matrix;u.X.applyTransform(n,l.data),c&&n.scale(-1,1),h&&n.scale(1,-1),n.drawImage(s,a.x,a.y,o.width,o.height),n.restore()}n.restore()}}},596:function(t,e,n){n.d(e,{b:()=>u});var r=n(2654),i=n(3500),s=n(8002),o=n(160);let a=2*Math.PI;class u{context;constructor(t){this.context=t}update({entities:t},e){let n=this.context,i=t.queryFirstEntity(r.V);if(n.save(),n.translate(n.canvas.width/2,n.canvas.height/2),i){let t=i.camera.getViewMatrix(i.transform,n.canvas);o.X.applyTransform(n,t.data)}this.renderBoxes(t),this.renderBalls(t),n.restore()}renderBoxes(t){let e=this.context,n=t.queryFirstEntity(r.V);for(let r of t.queryAllEntities(i.x)){let{transform:t,rectangle:{size:i,color:s}}=r;if(n&&!n.camera.isRectInView(n.transform,{...t.position,...i},e.canvas))continue;e.save();let a=t.matrix;o.X.applyTransform(e,a.data),e.fillStyle=s.toRgbCssString(),e.fillRect(0,0,i.width,i.height),e.restore()}}renderBalls(t){let e=this.context,n=t.queryFirstEntity(r.V);for(let r of t.queryAllEntities(s.e)){let{transform:t,circle:{radius:i,color:s}}=r;if(n&&!n.camera.isRectInView(n.transform,{x:t.position.x-i,y:t.position.y-i,width:2*i,height:2*i},e.canvas))continue;e.save();let u=t.matrix;o.X.applyTransform(e,u.data),e.beginPath(),e.fillStyle=s.toRgbCssString(),e.arc(0,0,i,0,a),e.fill(),e.restore()}}}},2990:function(t,e,n){var r,i;n.d(e,{y:()=>o}),n(793),n(5646),r=Symbol.iterator;class s{dense=[];sparse=[];get size(){return this.dense.length}static from(t){let e=new s;for(let n=0;n<t.length;n++)e.push(t[n]);return e}get(t){let e=this.indexOf(t);return -1===e?null:this.dense[e].value}delete(t){let e=this.indexOf(t);if(-1===e)return!1;let n=this.dense.pop();return n.key!==e&&(this.dense[e]=n,this.sparse[n.key]=e),!0}push(t){let e=this.dense.push({key:this.sparse.length,value:t});return this.sparse.push(e-1),e}clear(){this.dense.splice(0)}includes(t){return this.indexOf(t)>-1}keyOf(t){let e=this.dense.find(e=>e.value===t);return void 0!==e?e.key:-1}forEach(t,e){this.dense.forEach(({value:e,key:n})=>t(e,n,this),e)}*[r](){for(let t of this.dense)yield t.value}indexOf(t){let e=this.sparse[t];return void 0!==e&&this.dense[e]?.key===t?e:-1}}i=Symbol.iterator;class o{collisions=new s;get size(){return this.collisions.size}add(t){this.collisions.push(t)}delete(t){let e=this.collisions.keyOf(t);e>-1||this.collisions.delete(e)}clear(){this.collisions.clear()}*[i](){for(let t of this.collisions)yield t}}},3502:function(t,e,n){n.d(e,{V:()=>o});var r=n(8094),i=n(8989),s=n(4917);class o{update({entities:t},e){let n=s.A.create().single("animated",i.fS).optional("drawable",r.Q);for(let{animated:r,drawable:i}of t.queryAllEntities(n))r.tick(e),i&&(i.content=r.getImage())}}},880:function(t,e,n){n.d(e,{K:()=>o});var r=n(5597),i=n(9016),s=n(4917);class o{update({entities:t},e){for(let{transform:e,attached:n}of t.queryAllEntities(s.A.create().single("transform",r.A).single("attached",i.s))){let i=t.getFirstComponent(n.target,r.A);i&&e.position.copy(i.position)}}}},4972:function(t,e,n){n.d(e,{s:()=>l});var r=n(2990),i=n(5597),s=n(4716);n(4898),n(3293),n(3479),n(481),n(9929);var o=n(1700);let a={capacity:4,maximumDepth:-1};class u{bounds;config;functions;elements;children;constructor(t,e=a,n){this.bounds=t,this.config=e,this.functions=n,this.elements=[],this.children=null}static forPoints(t,e=a){return new u(t,e,{contains:o.U.containsPoint})}static forRects(t,e=a){return new u(t,e,{contains:o.U.overlapsRect})}getElements(){return this.children?this.children.flatMap(t=>t.getElements()):this.elements}getChildren(){return this.children??[]}getNodes(){let t=[this];for(let e of this.getChildren())t.push(...e.getNodes());return t}getLeafNodes(){let t=[];for(let e of(this.isLeafNode()&&t.push(this),this.getChildren()))t.push(...e.getLeafNodes());return t}isLeafNode(){return null===this.children}contains(t){return!!this.functions.contains(this.bounds,t)&&(this.children?this.children.some(e=>e.contains(t)):this.elements.includes(t))}remove(t){if(!this.functions.contains(this.bounds,t))return!1;if(this.children){let e=this.children.reduce((e,n)=>e||n.remove(t),!1);return e&&this.children.every(t=>t.isEmpty())&&(this.children=null),e}let e=this.elements.indexOf(t);return e>-1&&(this.elements.splice(e,1),!0)}insert(t){return!!this.functions.contains(this.bounds,t)&&(this.children?this.children.reduce((e,n)=>n.insert(t)||e,!1):this.elements.length<this.config.capacity||0===this.config.maximumDepth?(this.elements.push(t),!0):((-1===this.config.maximumDepth||this.config.maximumDepth>0)&&this.divide(),!1))}query(t){return o.U.overlapsRect(this.bounds,t)?this.children?this.children.flatMap(e=>e.query(t)):this.elements.filter(e=>this.functions.contains(t,e)):[]}clear(){this.elements=[],this.children=null}isEmpty(){return null===this.children&&0===this.elements.length}divide(){let t=-1===this.config.maximumDepth?-1:this.config.maximumDepth-1,e={...this.config,maximumDepth:t},n=this.bounds.x,r=this.bounds.y,i=this.bounds.width/2,s=this.bounds.height/2;for(let t of(this.children=[new u({x:n+i,y:r,width:i,height:s},e,this.functions),new u({x:n,y:r,width:i,height:s},e,this.functions),new u({x:n,y:r+s,width:i,height:s},e,this.functions),new u({x:n+i,y:r+s,width:i,height:s},e,this.functions)],this.elements.splice(0)))for(let e of this.children)e.insert(t)}}var c=n(8178),h=n(4917);class l{update({entities:t,resources:e},n){let a=t.queryAllEntities(h.A.create().single("transform",i.A).single("collidable",s.E)),l=e.getOrSet(r.y,()=>new r.y);l.clear();let d=u.forRects({x:-1e4,y:-1e4,width:2e4,height:2e4});for(let t of a){let{transform:e,collidable:{collider:n}}=t,r=n.getBoundingRect();d.insert({...t,x:r.x+e.position.x,y:r.y+e.position.y,width:r.width,height:r.height})}for(let t of d.getLeafNodes()){let e=t.getElements();for(let t=0;t<e.length;t++){let n=e[t],{transform:r,collidable:{collider:i}}=n;for(let s=t+1;s<e.length;s++){let t=e[s],{transform:a,collidable:{collider:u}}=t;if(i instanceof c.C&&u instanceof c.C){let e=c.C.from({x:i.x+r.position.x,y:i.y+r.position.y,radius:i.radius*r.scale.x}),s=c.C.from({x:u.x+a.position.x,y:u.y+a.position.y,radius:u.radius*a.scale.x});c.C.overlapsCircle(e,s)&&l.add({source:n.id,target:t.id})}else if(i instanceof o.U&&u instanceof o.U){let e=o.U.from({x:i.x+r.position.x,y:i.y+r.position.y,width:i.width*r.scale.x,height:i.height*r.scale.y}),s=o.U.from({x:u.x+a.position.x,y:u.y+a.position.y,width:u.width*a.scale.x,height:u.height*a.scale.y});o.U.overlapsRect(e,s)&&l.add({source:n.id,target:t.id})}else if(i instanceof c.C&&u instanceof o.U){let e=c.C.from({x:i.x+r.position.x,y:i.y+r.position.y,radius:i.radius*r.scale.x}),s=o.U.from({x:u.x+a.position.x,y:u.y+a.position.y,width:u.width*a.scale.x,height:u.height*a.scale.y});c.C.overlapsRect(e,s)&&l.add({source:n.id,target:t.id})}else if(i instanceof o.U&&u instanceof c.C){let e=o.U.from({x:i.x+r.position.x,y:i.y+r.position.y,width:i.width*r.scale.x,height:i.height*r.scale.y}),s=c.C.from({x:u.x+a.position.x,y:u.y+a.position.y,radius:u.radius*a.scale.x});o.U.overlapsCircle(e,s)&&l.add({source:n.id,target:t.id})}}}}}}},7019:function(t,e,n){n.a(t,async function(t,r){try{n.d(e,{A:()=>c});var i=n(2990),s=n(1220),o=n(3722),a=n(9278),u=n(4334);let t=await (0,a._)(u);class c{update({entities:e,audio:n,resources:r},a){for(let a of r.get(i.y))for(let r of[a.source,a.target]){let i=e.getFirstComponent(r,o.S);if(i){let e=i.hpLeft;i.hpLeft=Math.max(e-1,0),i.hpLeft!==e&&n.play(t)}let a=e.getFirstComponent(r,s.Z);i&&(!i||0!==i.hpLeft)||a||e.addComponent(r,new s.Z(0))}}}r()}catch(t){r(t)}},1)},1893:function(t,e,n){n.a(t,async function(t,r){try{n.d(e,{w:()=>c});var i=n(76),s=n(5660),o=n(8399),a=n(2541);let t=await (0,s.p)(o),u=await (0,s.p)(a);class c{context;constructor(t){this.context=t}update({entities:e},n){let r=this.context,s=e.queryFirstEntity(i.J);if(s){r.imageSmoothingEnabled=!1;for(let e=0;e<s.health.hpTotal;e++){let n;n=e<s.health.hpLeft?t:u;let i=r.canvas.width/1280,o=8*i,a=16*i,c=42*i;r.drawImage(n,a+e*o+e*c,r.canvas.height-c-a,c,c)}}}}r()}catch(t){r(t)}},1)},7242:function(t,e,n){n.d(e,{Z:()=>s});var r=n(1220),i=n(4917);class s{update({entities:t},e){for(let n of t.queryAllEntities(i.A.create().single("lifetime",r.Z)))n.lifetime.tick(e),n.lifetime.isOver&&t.deleteEntity(n.id)}}},4562:function(t,e,n){n.d(e,{i:()=>o});var r=n(5597),i=n(3116),s=n(4917);class o{update({entities:t},e){for(let n of t.queryAllEntities(s.A.create().single("transform",r.A).single("physical",i.W))){let{transform:{position:t},physical:r}=n,{velocity:i}=r;t.x+=i.x*e,t.y+=i.y*e}}}},6321:function(t,e,n){n.d(e,{x:()=>l});var r,i,s=n(4141),o=n(2342),a=n(8989),u=n(76),c=n(2654),h=n(2671);(r=i||(i={})).ARROW_UP="ArrowUp",r.ARROW_DOWN="ArrowDown",r.ARROW_LEFT="ArrowLeft",r.ARROW_RIGHT="ArrowRight",r.MOUSE_LEFT="M1",r.MOUSE_RIGHT="M2",r.SHIFT="Shift",r.SPACE=" ",r.W="w",r.A="a",r.S="s",r.D="d",r.Q="q",r.E="e",r.X="x",r.Z="z",r.T="t",r.Y="y",r.NUM_1="1",r.NUM_2="2",r.NUM_3="3",r.NUM_4="4",r.NUM_5="5";class l{context;resolutionScaling;constructor(t){this.context=t,this.resolutionScaling=window.devicePixelRatio??1}update({entities:t,inputs:e},n){let r=t.queryFirstEntity(u.J),l=t.queryFirstEntity(c.V);if(!r)return;let{transform:d,character:f,animated:y,drawable:p}=r,g=h.S.zero();switch(e.isKeyPressed(i.ARROW_LEFT)&&(g.x-=1,f.facingDirection=s.vI.WEST),e.isKeyPressed(i.ARROW_RIGHT)&&(g.x+=1,f.facingDirection=s.vI.EAST),e.isKeyPressed(i.ARROW_UP)&&(g.y-=1),e.isKeyPressed(i.ARROW_DOWN)&&(g.y+=1),g.normalize().multiplyScalar(300),f.facingDirection===s.vI.WEST?p.flipX=!0:f.facingDirection===s.vI.EAST&&(p.flipX=!1),g.isZero()?f.movementState=s.u9.IDLE:(e.isKeyPressed(i.SHIFT)?(g.multiplyScalar(2),f.movementState=s.u9.RUNNING):f.movementState=s.u9.WALKING,f.locationState===s.py.GROUNDED&&e.isKeyPressed(i.SPACE)&&(f.movementState=s.u9.JUMPING)),f.movementState){case s.u9.IDLE:y.play(a.OB.IDLE);break;case s.u9.WALKING:y.play(a.OB.WALKING);break;case s.u9.RUNNING:y.play(a.OB.RUNNING);break;case s.u9.JUMPING:y.play(a.OB.JUMPING)}if(e.isKeyPressed(i.W)&&d.rescale({x:1+3*n,y:1+3*n}),e.isKeyPressed(i.S)&&d.rescale({x:1-3*n,y:1-3*n}),e.isKeyPressed(i.A)&&d.rotate(-3*n),e.isKeyPressed(i.D)&&d.rotate(3*n),l&&e.isKeyPressed(i.Q)&&l.transform.rotate(-3*n),l&&e.isKeyPressed(i.E)&&l.transform.rotate(3*n),l&&e.isKeyPressed(i.X)&&l.transform.rescale({x:1+3*n,y:1+3*n}),l&&e.isKeyPressed(i.Z)&&l.transform.rescale({x:1-3*n,y:1-3*n}),e.isKeyPressed(i.Y)){let{canvas:t}=this.context,{clientWidth:e,clientHeight:r}=t;this.resolutionScaling=Math.min(this.resolutionScaling+.6*n,1),t.width=Math.floor(e*this.resolutionScaling),t.height=Math.floor(r*this.resolutionScaling)}if(e.isKeyPressed(i.T)){let{canvas:t}=this.context,{clientWidth:e,clientHeight:r}=t;this.resolutionScaling=Math.max(this.resolutionScaling-.6*n,.05),t.width=Math.floor(e*this.resolutionScaling),t.height=Math.floor(r*this.resolutionScaling)}l&&(e.isKeyPressed(i.NUM_1)?l.camera.mode=o.g.CHANGE_HEIGHT_TO_FIT_CANVAS:e.isKeyPressed(i.NUM_2)?l.camera.mode=o.g.CHANGE_WIDTH_TO_FIT_CANVAS:e.isKeyPressed(i.NUM_3)?l.camera.mode=o.g.CHANGE_SHORTEST_SIDE_TO_FIT_CANVAS:e.isKeyPressed(i.NUM_4)?l.camera.mode=o.g.CHANGE_LONGEST_SIDE_TO_FIT_CANVAS:e.isKeyPressed(i.NUM_5)&&(l.camera.mode=o.g.CHANGE_LENGTH_TO_FIT_CANVAS)),d.translate({x:g.x*n,y:g.y*n})}}},8237:function(t,e,n){n.d(e,{k:()=>l}),n(793);var r=n(5597),i=n(8094),s=n(4716),o=n(4411);let a=n(3743).Y.builder().single("transform",r.A).optional("drawable",i.Q).optional("collidable",s.E).optional("zIndex",o.K).build();var u=n(2654),c=n(5174),h=n(8182);class l{context;tileMap;tileSet;tiles;constructor(t,e,n){this.context=t,this.tileMap=e,this.tileSet=n,this.tiles=[]}update({entities:t},e){let n=this.context,o=t.queryFirstEntity(u.V);for(let e of this.tiles){let a=t.getFirstComponent(e,i.Q),u=t.getFirstComponent(e,r.A);o&&a&&u&&(o.camera.isRectInView(o.transform,{x:u.position.x,y:u.position.y,width:128,height:128},n.canvas)||(t.getFirstComponent(e,s.E)?t.removeComponent(e,a):t.deleteEntity(e)))}for(let e=0;e<this.tileMap.height;e++)for(let s=0;s<this.tileMap.width;s++){let u=this.tileMap.getTile("ground",{x:s,y:e});if(u){let l=this.tileSet.getTile(u.name);if(l){let u=new c.S(128*s,128*e);if(o&&!o.camera.isRectInView(o.transform,{x:u.x,y:u.y,width:128,height:128},n.canvas))continue;let d=this.tiles.find(e=>{let n=t.getFirstComponent(e,r.A);return n&&n.position.equals(u)});if(void 0!==d&&t.getFirstComponent(d,i.Q))continue;let f=new i.Q(l,c.S.zero(),new h.T(128,128));if(void 0===d){let e=new r.A(u),n=t.createArchetype(a,{transform:e,drawable:f});this.tiles.push(n)}else t.addComponent(d,f)}}}}}},152:function(t,e,n){n.a(t,async function(t,r){try{n.d(e,{d:()=>A});var i=n(8237),s=n(6321),o=n(4562),a=n(7242),u=n(1893),c=n(7019),h=n(4972),l=n(880),d=n(3502),f=n(596),y=n(7632),p=n(144),g=n(6039),m=n(701),x=n(9380),v=n(4315),w=n(9209),S=n(5612),M=t([c,u]);[c,u]=M.then?(await M)():M;let E=window.devicePixelRatio??1;function b(t){let{clientWidth:e,clientHeight:n}=t;t.width=Math.floor(e*E),t.height=Math.floor(n*E)}async function A(){let t=document.getElementById("canvas");if(!t)throw Error("Canvas element not found :-(");let e=t.getContext("2d",{alpha:!1,desynchronized:!0});if(!e)throw Error("2D canvas is not supported :-(");let[n,r]=await (0,g.i)(),M=new S.l,{scene:{systems:A,entities:E}}=M;A.add({update(t,n){let r=e.canvas;e.clearRect(0,0,r.width,r.height)}}),A.add(new s.x(e)),A.add(new o.i),A.add(new l.K),A.add(new h.s),A.add(new c.A),A.add(new a.Z),A.add(new d.V),A.add(new i.k(e,n,r)),A.add(new y.z(e)),A.add(new f.b(e)),A.add(new p.eT(e)),A.add(new p.ef(e)),A.add(new p.fD(e,.5)),A.add(new p.bG(e)),A.add(new u.w(e));let _=await (0,m.M)(E);(0,x.d)(E,_);for(let t=0;t<100;t++)(0,w.H)(E);for(let t=0;t<100;t++)(0,v.d)(E);return window.addEventListener("visibilitychange",()=>{document.hidden?M.stop():!M.isRunning&&M.start()}),window.addEventListener("resize",()=>b(t)),b(t),M}r()}catch(t){r(t)}})},9549:function(){},3825:function(t,e,n){n.a(t,async function(t,e){try{n(9549);var r=n(152),i=t([r]);r=(i.then?(await i)():i)[0];try{(await (0,r.d)()).start()}catch(t){alert(t)}e()}catch(t){e(t)}},1)},5085:function(t,e,n){var r=n(9821),i=n(4263),s=TypeError;t.exports=function(t){if(r(t))return t;throw new s(i(t)+" is not a function")}},2760:function(t,e,n){var r=n(4692).has;t.exports=function(t){return r(t),t}},7791:function(t,e,n){var r=n(1718).has;t.exports=function(t){return r(t),t}},6539:function(t,e,n){var r=n(6840),i=String,s=TypeError;t.exports=function(t){if(r(t))return t;throw new s(i(t)+" is not an object")}},3355:function(t,e,n){var r=n(621),i=n(7732),s=n(555),o=function(t){return function(e,n,o){var a,u=r(e),c=s(u);if(0===c)return!t&&-1;var h=i(o,c);if(t&&n!=n){for(;c>h;)if((a=u[h++])!=a)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},3203:function(t,e,n){var r=n(7494),i=n(6539),s=n(1153),o=n(6780),a=n(6252),u=n(9904),c=n(4043),h=n(6451),l=n(972),d=n(7056),f=h("Promise"),y="AsyncFromSyncIterator",p=u.set,g=u.getterFor(y),m=function(t,e,n,r,i){var s=t.done;f.resolve(t.value).then(function(t){e(d(t,s))},function(t){if(!s&&i)try{c(r,"throw",t)}catch(e){t=e}n(t)})},x=function(t){t.type=y,p(this,t)};x.prototype=a(s(l),{next:function(){var t=g(this);return new f(function(e,n){m(i(r(t.next,t.iterator)),e,n,t.iterator,!0)})},return:function(){var t=g(this).iterator;return new f(function(e,n){var s=o(t,"return");if(void 0===s)return e(d(void 0,!0));m(i(r(s,t)),e,n,t)})}}),t.exports=x},1564:function(t,e,n){var r=n(7494),i=n(6451),s=n(6780);t.exports=function(t,e,n,o){try{var a=s(t,"return");if(a)return i("Promise").resolve(r(a,t)).then(function(){e(n)},function(t){o(t)})}catch(t){return o(t)}e(n)}},425:function(t,e,n){var r=n(7494),i=n(9090),s=n(6539),o=n(1153),a=n(2444),u=n(6252),c=n(8583),h=n(9904),l=n(6451),d=n(6780),f=n(972),y=n(7056),p=n(4043),g=l("Promise"),m=c("toStringTag"),x="AsyncIteratorHelper",v="WrapForValidAsyncIterator",w=h.set,S=function(t){var e=!t,n=h.getterFor(t?v:x),a=function(t){var r=i(function(){return n(t)}),s=r.error,o=r.value;return s||e&&o.done?{exit:!0,value:s?g.reject(o):g.resolve(y(void 0,!0))}:{exit:!1,value:o}};return u(o(f),{next:function(){var t=a(this),e=t.value;if(t.exit)return e;var n=i(function(){return s(e.nextHandler(g))}),r=n.error,o=n.value;return r&&(e.done=!0),r?g.reject(o):g.resolve(o)},return:function(){var e,n,o=a(this),u=o.value;if(o.exit)return u;u.done=!0;var c=u.iterator,h=i(function(){if(u.inner)try{p(u.inner.iterator,"normal")}catch(t){return p(c,"throw",t)}return d(c,"return")});return(e=n=h.value,h.error)?g.reject(n):void 0===e?g.resolve(y(void 0,!0)):(n=(h=i(function(){return r(e,c)})).value,h.error)?g.reject(n):t?g.resolve(n):g.resolve(n).then(function(t){return s(t),y(void 0,!0)})}})},M=S(!0),b=S(!1);a(b,m,"Async Iterator Helper"),t.exports=function(t,e){var n=function(n,r){r?(r.iterator=n.iterator,r.next=n.next):r=n,r.type=e?v:x,r.nextHandler=t,r.counter=0,r.done=!1,w(this,r)};return n.prototype=e?M:b,n}},4662:function(t,e,n){var r=n(7494),i=n(5085),s=n(6539),o=n(6840),a=n(6182),u=n(6451),c=n(4894),h=n(1564),l=function(t){var e=0===t,n=1===t,l=2===t,d=3===t;return function(t,f,y){s(t);var p=void 0!==f;(p||!e)&&i(f);var g=c(t),m=u("Promise"),x=g.iterator,v=g.next,w=0;return new m(function(t,i){var u=function(t){h(x,i,t,i)},c=function(){try{if(p)try{a(w)}catch(t){u(t)}m.resolve(s(r(v,x))).then(function(r){try{if(s(r).done)e?(y.length=w,t(y)):t(!d&&(l||void 0));else{var a=r.value;try{if(p){var g=f(a,w),v=function(r){if(n)c();else if(l)r?c():h(x,t,!1,i);else if(e)try{y[w++]=r,c()}catch(t){u(t)}else r?h(x,t,d||a,i):c()};o(g)?m.resolve(g).then(v,u):v(g)}else y[w++]=a,c()}catch(t){u(t)}}}catch(t){i(t)}},i)}catch(t){i(t)}};c()})}};t.exports={toArray:l(0),forEach:l(1),every:l(2),some:l(3),find:l(4)}},2314:function(t,e,n){var r=n(7494),i=n(5085),s=n(6539),o=n(6840),a=n(4894),u=n(425),c=n(7056),h=n(1564),l=u(function(t){var e=this,n=e.iterator,i=e.mapper;return new t(function(a,u){var l=function(t){e.done=!0,u(t)},d=function(t){h(n,l,t,l)};t.resolve(s(r(e.next,n))).then(function(n){try{if(s(n).done)e.done=!0,a(c(void 0,!0));else{var r=n.value;try{var u=i(r,e.counter++),h=function(t){a(c(t,!1))};o(u)?t.resolve(u).then(h,d):h(u)}catch(t){d(t)}}}catch(t){l(t)}},l)})});t.exports=function(t){return s(this),i(t),new l(a(this),{mapper:t})}},972:function(t,e,n){var r,i,s=n(456),o=n(2223),a=n(9821),u=n(1153),c=n(3424),h=n(453),l=n(8583),d=n(3294),f="USE_FUNCTION_CONSTRUCTOR",y=l("asyncIterator"),p=s.AsyncIterator,g=o.AsyncIteratorPrototype;if(g)r=g;else if(a(p))r=p.prototype;else if(o[f]||s[f])try{i=c(c(c(Function("return async function*(){}()")()))),c(i)===Object.prototype&&(r=i)}catch(t){}r?d&&(r=u(r)):r={},a(r[y])||h(r,y,function(){return this}),t.exports=r},2185:function(t,e,n){var r=n(2814),i=r({}.toString),s=r("".slice);t.exports=function(t){return s(i(t),8,-1)}},4074:function(t,e,n){var r=n(8149),i=n(9821),s=n(2185),o=n(8583)("toStringTag"),a=Object,u="Arguments"===s(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(t){}};t.exports=r?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=a(t),o))?n:u?s(e):"Object"===(r=s(e))&&i(e.callee)?"Arguments":r}},7130:function(t,e,n){var r=n(5848),i=n(7040),s=n(3895),o=n(8235);t.exports=function(t,e,n){for(var a=i(e),u=o.f,c=s.f,h=0;h<a.length;h++){var l=a[h];r(t,l)||n&&r(n,l)||u(t,l,c(e,l))}}},4276:function(t,e,n){t.exports=!n(1455)(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},7056:function(t){t.exports=function(t,e){return{value:t,done:e}}},2444:function(t,e,n){var r=n(1360),i=n(8235),s=n(8590);t.exports=r?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},8590:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},453:function(t,e,n){var r=n(9821),i=n(8235),s=n(5470),o=n(8711);t.exports=function(t,e,n,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(r(n)&&s(n,c,a),a.global)u?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6252:function(t,e,n){var r=n(453);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},8711:function(t,e,n){var r=n(456),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},1360:function(t,e,n){t.exports=!n(1455)(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3837:function(t,e,n){var r=n(456),i=n(6840),s=r.document,o=i(s)&&i(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},6182:function(t){var e=TypeError;t.exports=function(t){if(t>0x1fffffffffffff)throw e("Maximum allowed index exceeded");return t}},6064:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7579:function(t,e,n){var r=n(456).navigator,i=r&&r.userAgent;t.exports=i?String(i):""},1033:function(t,e,n){var r,i,s=n(456),o=n(7579),a=s.process,u=s.Deno,c=a&&a.versions||u&&u.version,h=c&&c.v8;h&&(i=(r=h.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},7341:function(t,e,n){var r=n(456),i=n(3895).f,s=n(2444),o=n(453),a=n(8711),u=n(7130),c=n(7653);t.exports=function(t,e){var n,h,l,d,f,y=t.target,p=t.global,g=t.stat;if(n=p?r:g?r[y]||a(y,{}):r[y]&&r[y].prototype)for(h in e){if(d=e[h],l=t.dontCallGetSet?(f=i(n,h))&&f.value:n[h],!c(p?h:y+(g?".":"#")+h,t.forced)&&void 0!==l){if(typeof d==typeof l)continue;u(d,l)}(t.sham||l&&l.sham)&&s(d,"sham",!0),o(n,h,d,t)}}},1455:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7722:function(t,e,n){var r=n(1609),i=n(5085),s=n(5707),o=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},5707:function(t,e,n){t.exports=!n(1455)(function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},7494:function(t,e,n){var r=n(5707),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},360:function(t,e,n){var r=n(1360),i=n(5848),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),u=a&&(!r||r&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:a&&"something"===(function(){}).name,CONFIGURABLE:u}},2756:function(t,e,n){var r=n(2814),i=n(5085);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},1609:function(t,e,n){var r=n(2185),i=n(2814);t.exports=function(t){if("Function"===r(t))return i(t)}},2814:function(t,e,n){var r=n(5707),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);t.exports=r?o:function(t){return function(){return s.apply(t,arguments)}}},1804:function(t,e,n){var r=n(7494),i=n(9821),s=n(6539),o=n(4894),a=n(4311),u=n(6780),c=n(8583),h=n(3203),l=c("asyncIterator");t.exports=function(t){var e,n=s(t),c=!0,d=u(n,l);return i(d)||(d=a(n),c=!1),void 0!==d?e=r(d,n):(e=n,c=!0),s(e),o(c?e:new h(o(e)))}},6451:function(t,e,n){var r=n(456),i=n(9821);t.exports=function(t,e){var n;return arguments.length<2?i(n=r[t])?n:void 0:r[t]&&r[t][e]}},4894:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},4311:function(t,e,n){var r=n(4074),i=n(6780),s=n(9700),o=n(649),a=n(8583)("iterator");t.exports=function(t){if(!s(t))return i(t,a)||i(t,"@@iterator")||o[r(t)]}},269:function(t,e,n){var r=n(7494),i=n(5085),s=n(6539),o=n(4263),a=n(4311),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(i(n))return s(r(n,t));throw new u(o(t)+" is not iterable")}},6780:function(t,e,n){var r=n(5085),i=n(9700);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},7786:function(t,e,n){var r=n(5085),i=n(6539),s=n(7494),o=n(1573),a=n(4894),u="Invalid size",c=RangeError,h=TypeError,l=Math.max,d=function(t,e){this.set=t,this.size=l(e,0),this.has=r(t.has),this.keys=r(t.keys)};d.prototype={getIterator:function(){return a(i(s(this.keys,this.set)))},includes:function(t){return s(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new h(u);var n=o(e);if(n<0)throw new c(u);return new d(t,n)}},456:function(t,e,n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},5848:function(t,e,n){var r=n(2814),i=n(7670),s=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(i(t),e)}},2793:function(t){t.exports={}},3322:function(t,e,n){t.exports=n(6451)("document","documentElement")},8980:function(t,e,n){var r=n(1360),i=n(1455),s=n(3837);t.exports=!r&&!i(function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},4677:function(t,e,n){var r=n(2814),i=n(1455),s=n(2185),o=Object,a=r("".split);t.exports=i(function(){return!o("z").propertyIsEnumerable(0)})?function(t){return"String"===s(t)?a(t,""):o(t)}:o},5566:function(t,e,n){var r=n(2814),i=n(9821),s=n(2223),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},9904:function(t,e,n){var r,i,s,o=n(709),a=n(456),u=n(6840),c=n(2444),h=n(5848),l=n(2223),d=n(2566),f=n(2793),y="Object already initialized",p=a.TypeError,g=a.WeakMap;if(o||l.state){var m=l.state||(l.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw new p(y);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},s=function(t){return m.has(t)}}else{var x=d("state");f[x]=!0,r=function(t,e){if(h(t,x))throw new p(y);return e.facade=t,c(t,x,e),e},i=function(t){return h(t,x)?t[x]:{}},s=function(t){return h(t,x)}}t.exports={set:r,get:i,has:s,enforce:function(t){return s(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw new p("Incompatible receiver, "+t+" required");return n}}}},3497:function(t,e,n){var r=n(8583),i=n(649),s=r("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[s]===t)}},9821:function(t){var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},7653:function(t,e,n){var r=n(1455),i=n(9821),s=/#|\.prototype\./,o=function(t,e){var n=u[a(t)];return n===h||n!==c&&(i(e)?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",h=o.POLYFILL="P";t.exports=o},3834:function(t,e,n){var r=n(4074),i=n(5848),s=n(9700),o=n(8583),a=n(649),u=o("iterator"),c=Object;t.exports=function(t){if(s(t))return!1;var e=c(t);return void 0!==e[u]||"@@iterator"in e||i(a,r(e))}},9700:function(t){t.exports=function(t){return null==t}},6840:function(t,e,n){var r=n(9821);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3294:function(t){t.exports=!1},3139:function(t,e,n){var r=n(6451),i=n(9821),s=n(6711),o=n(6254),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&s(e.prototype,a(t))}},4180:function(t,e,n){var r=n(7494);t.exports=function(t,e,n){for(var i,s,o=n?t:t.iterator,a=t.next;!(i=r(a,o)).done;)if(void 0!==(s=e(i.value)))return s}},5249:function(t,e,n){var r=n(7722),i=n(7494),s=n(6539),o=n(4263),a=n(3497),u=n(555),c=n(6711),h=n(269),l=n(4311),d=n(4043),f=TypeError,y=function(t,e){this.stopped=t,this.result=e},p=y.prototype;t.exports=function(t,e,n){var g,m,x,v,w,S,M,b=n&&n.that,A=!!(n&&n.AS_ENTRIES),E=!!(n&&n.IS_RECORD),_=!!(n&&n.IS_ITERATOR),I=!!(n&&n.INTERRUPTED),N=r(e,b),C=function(t){return g&&d(g,"normal",t),new y(!0,t)},O=function(t){return A?(s(t),I?N(t[0],t[1],C):N(t[0],t[1])):I?N(t,C):N(t)};if(E)g=t.iterator;else if(_)g=t;else{if(!(m=l(t)))throw new f(o(t)+" is not iterable");if(a(m)){for(x=0,v=u(t);v>x;x++)if((w=O(t[x]))&&c(p,w))return w;return new y(!1)}g=h(t,m)}for(S=E?t.next:g.next;!(M=i(S,g)).done;){try{w=O(M.value)}catch(t){d(g,"throw",t)}if("object"==typeof w&&w&&c(p,w))return w}return new y(!1)}},4043:function(t,e,n){var r=n(7494),i=n(6539),s=n(6780);t.exports=function(t,e,n){var o,a;i(t);try{if(!(o=s(t,"return"))){if("throw"===e)throw n;return n}o=r(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw n;if(a)throw o;return i(o),n}},649:function(t){t.exports={}},555:function(t,e,n){var r=n(3663);t.exports=function(t){return r(t.length)}},5470:function(t,e,n){var r=n(2814),i=n(1455),s=n(9821),o=n(5848),a=n(1360),u=n(360).CONFIGURABLE,c=n(5566),h=n(9904),l=h.enforce,d=h.get,f=String,y=Object.defineProperty,p=r("".slice),g=r("".replace),m=r([].join),x=a&&!i(function(){return 8!==y(function(){},"length",{value:8}).length}),v=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===p(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||u&&t.name!==e)&&(a?y(t,"name",{value:e,configurable:!0}):t.name=e),x&&n&&o(n,"arity")&&t.length!==n.arity&&y(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&y(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=l(t);return o(r,"source")||(r.source=m(v,"string"==typeof e?e:"")),t};Function.prototype.toString=w(function(){return s(this)&&d(this).source||c(this)},"toString")},4692:function(t,e,n){var r=n(2814),i=Map.prototype;t.exports={Map:Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i.delete),proto:i}},4694:function(t,e,n){var r=n(2814),i=n(4180),s=n(4692),o=s.Map,a=s.proto,u=r(a.forEach),c=r(a.entries),h=c(new o).next;t.exports=function(t,e,n){return n?i({iterator:c(t),next:h},function(t){return e(t[1],t[0])}):u(t,e)}},6083:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},1153:function(t,e,n){var r,i=n(6539),s=n(5242),o=n(6064),a=n(2793),u=n(3322),c=n(3837),h=n(2566),l="prototype",d="script",f=h("IE_PROTO"),y=function(){},p=function(t){return"<"+d+">"+t+"</"+d+">"},g=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=c("iframe");return e.style.display="none",u.appendChild(e),e.src=String("java"+d+":"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F},x=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}x="undefined"!=typeof document?document.domain&&r?g(r):m():g(r);for(var t=o.length;t--;)delete x[l][o[t]];return x()};a[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(y[l]=i(t),n=new y,y[l]=null,n[f]=t):n=x(),void 0===e?n:s.f(n,e)}},5242:function(t,e,n){var r=n(1360),i=n(7174),s=n(8235),o=n(6539),a=n(621),u=n(5387);e.f=r&&!i?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),i=u(e),c=i.length,h=0;c>h;)s.f(t,n=i[h++],r[n]);return t}},8235:function(t,e,n){var r=n(1360),i=n(8980),s=n(7174),o=n(6539),a=n(1051),u=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,l="enumerable",d="configurable",f="writable";e.f=r?s?function(t,e,n){if(o(t),e=a(e),o(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=h(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:l in n?n[l]:r[l],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(o(t),e=a(e),o(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},3895:function(t,e,n){var r=n(1360),i=n(7494),s=n(322),o=n(8590),a=n(621),u=n(1051),c=n(5848),h=n(8980),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=u(e),h)try{return l(t,e)}catch(t){}if(c(t,e))return o(!i(s.f,t,e),t[e])}},5487:function(t,e,n){var r=n(4372),i=n(6064).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},4713:function(t,e){e.f=Object.getOwnPropertySymbols},3424:function(t,e,n){var r=n(5848),i=n(9821),s=n(7670),o=n(2566),a=n(4276),u=o("IE_PROTO"),c=Object,h=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=s(t);if(r(e,u))return e[u];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?h:null}},6711:function(t,e,n){t.exports=n(2814)({}.isPrototypeOf)},4372:function(t,e,n){var r=n(2814),i=n(5848),s=n(621),o=n(3355).indexOf,a=n(2793),u=r([].push);t.exports=function(t,e){var n,r=s(t),c=0,h=[];for(n in r)!i(a,n)&&i(r,n)&&u(h,n);for(;e.length>c;)i(r,n=e[c++])&&(~o(h,n)||u(h,n));return h}},5387:function(t,e,n){var r=n(4372),i=n(6064);t.exports=Object.keys||function(t){return r(t,i)}},322:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor;e.f=r&&!n.call({1:2},1)?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},626:function(t,e,n){var r=n(7494),i=n(9821),s=n(6840),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!s(a=r(n,t))||i(n=t.valueOf)&&!s(a=r(n,t))||"string"!==e&&i(n=t.toString)&&!s(a=r(n,t)))return a;throw new o("Can't convert object to primitive value")}},7040:function(t,e,n){var r=n(6451),i=n(2814),s=n(5487),o=n(4713),a=n(6539),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?u(e,n(t)):e}},9090:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},6124:function(t,e,n){var r=n(9700),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},8620:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},8507:function(t,e,n){var r=n(1718),i=n(6137),s=r.Set,o=r.add;t.exports=function(t){var e=new s;return i(t,function(t){o(e,t)}),e}},794:function(t,e,n){var r=n(7791),i=n(1718),s=n(8507),o=n(9698),a=n(7786),u=n(6137),c=n(4180),h=i.has,l=i.remove;t.exports=function(t){var e=r(this),n=a(t),i=s(e);return o(e)<=n.size?u(e,function(t){n.includes(t)&&l(i,t)}):c(n.getIterator(),function(t){h(e,t)&&l(i,t)}),i}},1718:function(t,e,n){var r=n(2814),i=Set.prototype;t.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},5126:function(t,e,n){var r=n(7791),i=n(1718),s=n(9698),o=n(7786),a=n(6137),u=n(4180),c=i.Set,h=i.add,l=i.has;t.exports=function(t){var e=r(this),n=o(t),i=new c;return s(e)>n.size?u(n.getIterator(),function(t){l(e,t)&&h(i,t)}):a(e,function(t){n.includes(t)&&h(i,t)}),i}},2932:function(t,e,n){var r=n(7791),i=n(1718).has,s=n(9698),o=n(7786),a=n(6137),u=n(4180),c=n(4043);t.exports=function(t){var e=r(this),n=o(t);if(s(e)<=n.size)return!1!==a(e,function(t){if(n.includes(t))return!1},!0);var h=n.getIterator();return!1!==u(h,function(t){if(i(e,t))return c(h,"normal",!1)})}},5970:function(t,e,n){var r=n(7791),i=n(9698),s=n(6137),o=n(7786);t.exports=function(t){var e=r(this),n=o(t);return!(i(e)>n.size)&&!1!==s(e,function(t){if(!n.includes(t))return!1},!0)}},5267:function(t,e,n){var r=n(7791),i=n(1718).has,s=n(9698),o=n(7786),a=n(4180),u=n(4043);t.exports=function(t){var e=r(this),n=o(t);if(s(e)<n.size)return!1;var c=n.getIterator();return!1!==a(c,function(t){if(!i(e,t))return u(c,"normal",!1)})}},6137:function(t,e,n){var r=n(2814),i=n(4180),s=n(1718),o=s.Set,a=s.proto,u=r(a.forEach),c=r(a.keys),h=c(new o).next;t.exports=function(t,e,n){return n?i({iterator:c(t),next:h},e):u(t,e)}},9698:function(t,e,n){t.exports=n(2756)(n(1718).proto,"size","get")||function(t){return t.size}},8936:function(t,e,n){var r=n(7791),i=n(1718),s=n(8507),o=n(7786),a=n(4180),u=i.add,c=i.has,h=i.remove;t.exports=function(t){var e=r(this),n=o(t).getIterator(),i=s(e);return a(n,function(t){c(e,t)?h(i,t):u(i,t)}),i}},2688:function(t,e,n){var r=n(7791),i=n(1718).add,s=n(8507),o=n(7786),a=n(4180);t.exports=function(t){var e=r(this),n=o(t).getIterator(),u=s(e);return a(n,function(t){i(u,t)}),u}},2566:function(t,e,n){var r=n(9263),i=n(8508),s=r("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},2223:function(t,e,n){var r=n(3294),i=n(456),s=n(8711),o="__core-js_shared__",a=t.exports=i[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.42.0",mode:r?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"})},9263:function(t,e,n){var r=n(2223);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},5946:function(t,e,n){var r=n(1033),i=n(1455),s=n(456).String;t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41})},7732:function(t,e,n){var r=n(1573),i=Math.max,s=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},621:function(t,e,n){var r=n(4677),i=n(6124);t.exports=function(t){return r(i(t))}},1573:function(t,e,n){var r=n(6083);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},3663:function(t,e,n){var r=n(1573),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,0x1fffffffffffff):0}},7670:function(t,e,n){var r=n(6124),i=Object;t.exports=function(t){return i(r(t))}},7967:function(t,e,n){var r=n(7494),i=n(6840),s=n(3139),o=n(6780),a=n(626),u=n(8583),c=TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var n,u=o(t,h);if(u){if(void 0===e&&(e="default"),!i(n=r(u,t,e))||s(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},1051:function(t,e,n){var r=n(7967),i=n(3139);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},5010:function(t,e,n){var r=n(6451),i=n(9821),s=n(3834),o=n(6840),a=r("Set");t.exports=function(t){return o(t)&&"number"==typeof t.size&&i(t.has)&&i(t.keys)?t:s(t)?new a(t):t}},8149:function(t,e,n){var r=n(8583)("toStringTag"),i={};i[r]="z",t.exports="[object z]"===String(i)},3576:function(t,e,n){var r=n(4074),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},4263:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},8508:function(t,e,n){var r=n(2814),i=0,s=Math.random(),o=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+s,36)}},6254:function(t,e,n){t.exports=n(5946)&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7174:function(t,e,n){var r=n(1360),i=n(1455);t.exports=r&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},709:function(t,e,n){var r=n(456),i=n(9821),s=r.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},8583:function(t,e,n){var r=n(456),i=n(9263),s=n(5848),o=n(8508),a=n(5946),u=n(6254),c=r.Symbol,h=i("wks"),l=u?c.for||c:c&&c.withoutSetter||o;t.exports=function(t){return s(h,t)||(h[t]=a&&s(c,t)?c[t]:l("Symbol."+t)),h[t]}},481:function(t,e,n){var r=n(7341),i=n(4662).every;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:function(t){return i(this,t)}})},9929:function(t,e,n){var r=n(7341),i=n(7494),s=n(5085),o=n(6539),a=n(6840),u=n(4894),c=n(425),h=n(7056),l=n(1564),d=c(function(t){var e=this,n=e.iterator,r=e.predicate;return new t(function(s,u){var c=function(t){e.done=!0,u(t)},d=function(t){l(n,c,t,c)},f=function(){try{t.resolve(o(i(e.next,n))).then(function(n){try{if(o(n).done)e.done=!0,s(h(void 0,!0));else{var i=n.value;try{var u=r(i,e.counter++),l=function(t){t?s(h(i,!1)):f()};a(u)?t.resolve(u).then(l,d):l(u)}catch(t){d(t)}}}catch(t){c(t)}},c)}catch(t){c(t)}};f()})});r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:function(t){return o(this),s(t),new d(u(this),{predicate:t})}})},793:function(t,e,n){var r=n(7341),i=n(4662).find;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:function(t){return i(this,t)}})},4898:function(t,e,n){var r=n(7341),i=n(7494),s=n(5085),o=n(6539),a=n(6840),u=n(4894),c=n(425),h=n(7056),l=n(1804),d=n(1564),f=c(function(t){var e=this,n=e.iterator,r=e.mapper;return new t(function(s,u){var c=function(t){e.done=!0,u(t)},f=function(t){d(n,c,t,c)},y=function(){try{t.resolve(o(i(e.next,n))).then(function(n){try{if(o(n).done)e.done=!0,s(h(void 0,!0));else{var i=n.value;try{var u=r(i,e.counter++),d=function(t){try{e.inner=l(t),p()}catch(t){f(t)}};a(u)?t.resolve(u).then(d,f):d(u)}catch(t){f(t)}}}catch(t){c(t)}},c)}catch(t){c(t)}},p=function(){var n=e.inner;if(n)try{t.resolve(o(i(n.next,n.iterator))).then(function(t){try{o(t).done?(e.inner=null,y()):s(h(t.value,!1))}catch(t){f(t)}},f)}catch(t){f(t)}else y()};p()})});r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:function(t){return o(this),s(t),new f(u(this),{mapper:t,inner:null})}})},5646:function(t,e,n){var r=n(7341),i=n(4662).forEach;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:function(t){return i(this,t)}})},9560:function(t,e,n){n(7341)({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:n(2314)})},3479:function(t,e,n){var r=n(7341),i=n(7494),s=n(5085),o=n(6539),a=n(6840),u=n(6451),c=n(4894),h=n(1564),l=u("Promise"),d=TypeError;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:function(t){o(this),s(t);var e=c(this),n=e.iterator,r=e.next,u=arguments.length<2,f=u?void 0:arguments[1],y=0;return new l(function(e,s){var c=function(t){h(n,s,t,s)},p=function(){try{l.resolve(o(i(r,n))).then(function(n){try{if(o(n).done)u?s(new d("Reduce of empty iterator with no initial value")):e(f);else{var r=n.value;if(u)u=!1,f=r,p();else try{var i=t(f,r,y),h=function(t){f=t,p()};a(i)?l.resolve(i).then(h,c):h(i)}catch(t){c(t)}}y++}catch(t){s(t)}},s)}catch(t){s(t)}};p()})}})},3293:function(t,e,n){var r=n(7341),i=n(4662).some;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:function(t){return i(this,t)}})},4912:function(t,e,n){var r=n(7341),i=n(2760),s=n(4692).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),n=!0,r=0,o=arguments.length;r<o;r++)t=s(e,arguments[r]),n=n&&t;return!!n}})},78:function(t,e,n){var r=n(7341),i=n(2760),s=n(4692),o=s.get,a=s.has,u=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(t,e){var n,r,s=i(this);return a(s,t)?(n=o(s,t),"update"in e&&(n=e.update(n,t,s),u(s,t,n)),n):(r=e.insert(t,s),u(s,t,r),r)}})},1416:function(t,e,n){var r=n(7341),i=n(7722),s=n(2760),o=n(4694);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0);return!1!==o(e,function(t,r){if(!n(t,r,e))return!1},!0)}})},9975:function(t,e,n){var r=n(7341),i=n(7722),s=n(2760),o=n(4692),a=n(4694),u=o.Map,c=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new u;return a(e,function(t,i){n(t,i,e)&&c(r,i,t)}),r}})},8023:function(t,e,n){var r=n(7341),i=n(7722),s=n(2760),o=n(4694);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=o(e,function(t,r){if(n(t,r,e))return{key:r}},!0);return r&&r.key}})},1998:function(t,e,n){var r=n(7341),i=n(7722),s=n(2760),o=n(4694);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=o(e,function(t,r){if(n(t,r,e))return{value:t}},!0);return r&&r.value}})},7527:function(t,e,n){var r=n(7341),i=n(8620),s=n(2760),o=n(4694);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===o(s(this),function(e){if(i(e,t))return!0},!0)}})},4749:function(t,e,n){var r=n(7341),i=n(2760),s=n(4694);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=s(i(this),function(e,n){if(e===t)return{key:n}},!0);return e&&e.key}})},7881:function(t,e,n){var r=n(7341),i=n(7722),s=n(2760),o=n(4692),a=n(4694),u=o.Map,c=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new u;return a(e,function(t,i){c(r,n(t,i,e),t)}),r}})},9365:function(t,e,n){var r=n(7341),i=n(7722),s=n(2760),o=n(4692),a=n(4694),u=o.Map,c=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new u;return a(e,function(t,i){c(r,i,n(t,i,e))}),r}})},2592:function(t,e,n){var r=n(7341),i=n(2760),s=n(5249),o=n(4692).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var e=i(this),n=arguments.length,r=0;r<n;)s(arguments[r++],function(t,n){o(e,t,n)},{AS_ENTRIES:!0});return e}})},1819:function(t,e,n){var r=n(7341),i=n(5085),s=n(2760),o=n(4694),a=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=s(this),n=arguments.length<2,r=n?void 0:arguments[1];if(i(t),o(e,function(i,s){n?(n=!1,r=i):r=t(r,i,s,e)}),n)throw new a("Reduce of empty map with no initial value");return r}})},5614:function(t,e,n){var r=n(7341),i=n(7722),s=n(2760),o=n(4694);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0);return!0===o(e,function(t,r){if(n(t,r,e))return!0},!0)}})},7628:function(t,e,n){var r=n(7341),i=n(5085),s=n(2760),o=n(4692),a=TypeError,u=o.get,c=o.has,h=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var n=s(this),r=arguments.length;i(e);var o=c(n,t);if(!o&&r<3)throw new a("Updating absent value");var l=o?u(n,t):i(r>2?arguments[2]:void 0)(t,n);return h(n,t,e(l,t,n)),n}})},8558:function(t,e,n){var r=n(7341),i=n(7791),s=n(1718).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=i(this),e=0,n=arguments.length;e<n;e++)s(t,arguments[e]);return t}})},7980:function(t,e,n){var r=n(7341),i=n(7791),s=n(1718).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),n=!0,r=0,o=arguments.length;r<o;r++)t=s(e,arguments[r]),n=n&&t;return!!n}})},6236:function(t,e,n){var r=n(7341),i=n(7494),s=n(5010),o=n(794);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return i(o,this,s(t))}})},2833:function(t,e,n){var r=n(7341),i=n(7722),s=n(7791),o=n(6137);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0);return!1!==o(e,function(t){if(!n(t,t,e))return!1},!0)}})},7906:function(t,e,n){var r=n(7341),i=n(7722),s=n(7791),o=n(1718),a=n(6137),u=o.Set,c=o.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new u;return a(e,function(t){n(t,t,e)&&c(r,t)}),r}})},2114:function(t,e,n){var r=n(7341),i=n(7722),s=n(7791),o=n(6137);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=o(e,function(t){if(n(t,t,e))return{value:t}},!0);return r&&r.value}})},2613:function(t,e,n){var r=n(7341),i=n(7494),s=n(5010),o=n(5126);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return i(o,this,s(t))}})},874:function(t,e,n){var r=n(7341),i=n(7494),s=n(5010),o=n(2932);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return i(o,this,s(t))}})},2240:function(t,e,n){var r=n(7341),i=n(7494),s=n(5010),o=n(5970);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return i(o,this,s(t))}})},8675:function(t,e,n){var r=n(7341),i=n(7494),s=n(5010),o=n(5267);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return i(o,this,s(t))}})},6857:function(t,e,n){var r=n(7341),i=n(2814),s=n(7791),o=n(6137),a=n(3576),u=i([].join),c=i([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=s(this),n=void 0===t?",":a(t),r=[];return o(e,function(t){c(r,t)}),u(r,n)}})},8137:function(t,e,n){var r=n(7341),i=n(7722),s=n(7791),o=n(1718),a=n(6137),u=o.Set,c=o.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0),r=new u;return a(e,function(t){c(r,n(t,t,e))}),r}})},6501:function(t,e,n){var r=n(7341),i=n(5085),s=n(7791),o=n(6137),a=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=s(this),n=arguments.length<2,r=n?void 0:arguments[1];if(i(t),o(e,function(i){n?(n=!1,r=i):r=t(r,i,i,e)}),n)throw new a("Reduce of empty set with no initial value");return r}})},6834:function(t,e,n){var r=n(7341),i=n(7722),s=n(7791),o=n(6137);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=s(this),n=i(t,arguments.length>1?arguments[1]:void 0);return!0===o(e,function(t){if(n(t,t,e))return!0},!0)}})},1549:function(t,e,n){var r=n(7341),i=n(7494),s=n(5010),o=n(8936);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return i(o,this,s(t))}})},3485:function(t,e,n){var r=n(7341),i=n(7494),s=n(5010),o=n(2688);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return i(o,this,s(t))}})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}(()=>{var t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},s=n=>n.map(n=>{if(null!==n&&"object"==typeof n){if(n[t])return n;if(n.then){var s=[];s.d=0,n.then(t=>{o[e]=t,i(s)},t=>{o[r]=t,i(s)});var o={};return o[t]=t=>t(s),o}}var a={};return a[t]=function(){},a[e]=n,a});n.a=(n,o,a)=>{a&&((u=[]).d=-1);var u,c,h,l,d=new Set,f=n.exports,y=new Promise((t,e)=>{l=e,h=t});y[e]=f,y[t]=t=>{u&&t(u),d.forEach(t),y.catch(function(){})},n.exports=y,o(n=>{c=s(n);var i,o=()=>c.map(t=>{if(t[r])throw t[r];return t[e]}),a=new Promise(e=>{(i=()=>e(o)).r=0;var n=t=>t!==u&&!d.has(t)&&(d.add(t),t&&!t.d&&(i.r++,t.push(i)));c.map(e=>e[t](n))});return i.r?a:o()},t=>(t?l(y[r]=t):h(f),i(u))),u&&u.d<0&&(u.d=0)}})(),n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}})(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="./",n.rv=()=>"1.3.11",n.ruid="bundler=rspack@1.3.11",n(3825)})();